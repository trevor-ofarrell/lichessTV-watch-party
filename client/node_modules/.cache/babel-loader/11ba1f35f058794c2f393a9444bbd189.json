{"ast":null,"code":"import _slicedToArray from\"/home/d9/code/lichessTV-watch-party/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from\"react\";import{useHistory}from\"react-router-dom\";import useChat from\"./useChat\";import useWindowDimensions from\"./hooks/WindowDimensions\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var JoinChat=function JoinChat(props){var roomId=props.roomId,onNameUpdate=props.onNameUpdate;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useWindowDimensions=useWindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var messageRef=useRef();var history=useHistory();var _useChat=useChat(roomId,name),addUser=_useChat.addUser;var handleClick=function handleClick(){if(!roomId.length){history.push({pathname:\"/featured\",state:{name:name}});}else{history.push({pathname:\"/\".concat(roomId),state:{name:name}});}};return/*#__PURE__*/_jsx(\"div\",{style:{height:height,width:width},className:\"ml-auto bg-scheme-dark overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pt-20 pb-14 bg-scheme-dark ml-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl p-4 text-center text-white\",children:[\"Room: \",roomId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto xl:pt-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-white text-center text-lg px-4\",children:\"Create a username to join the chat\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"xl:w-full w-80 overflow-hidden p-4 m-auto\",children:/*#__PURE__*/_jsx(\"input\",{className:\"w-full h-10 pl-3 text-base bg-scheme-light placeholder-gray-500 border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter username\",variant:\"outlined\",value:userName,onChange:function onChange(event){return setUserName(event.target.value);}})})}),/*#__PURE__*/_jsx(\"button\",{className:\"h-12 m-auto flex items-center px-4 font-bold text-white bg-scheme-orange rounded-lg\",variant:\"contained\",color:\"primary\",onClick:function onClick(){setName(userName);onNameUpdate(userName);addUser(userName);handleClick(userName);},children:\"Join Chat\"})]}),/*#__PURE__*/_jsx(\"div\",{ref:messageRef})]})})})});};export default JoinChat;","map":{"version":3,"sources":["/home/d9/code/lichessTV-watch-party/client/src/JoinChat.jsx"],"names":["React","useRef","useState","useHistory","useChat","useWindowDimensions","JoinChat","props","roomId","onNameUpdate","name","setName","height","width","userName","setUserName","messageRef","history","addUser","handleClick","length","push","pathname","state","event","target","value"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,0BAAhC,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CAC1B,GAAQC,CAAAA,MAAR,CAAiCD,KAAjC,CAAQC,MAAR,CAAgBC,YAAhB,CAAiCF,KAAjC,CAAgBE,YAAhB,CACA,cAAwBP,QAAQ,CAAC,EAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,yBAA0BN,mBAAmB,EAA7C,CAAQO,MAAR,sBAAQA,MAAR,CAAgBC,KAAhB,sBAAgBA,KAAhB,CACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,UAAU,CAAGf,MAAM,EAAzB,CACA,GAAMgB,CAAAA,OAAO,CAAGd,UAAU,EAA1B,CACA,aAAoBC,OAAO,CAACI,MAAD,CAASE,IAAT,CAA3B,CAAQQ,OAAR,UAAQA,OAAR,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAI,CAACX,MAAM,CAACY,MAAZ,CAAoB,CAClBH,OAAO,CAACI,IAAR,CAAa,CACXC,QAAQ,YADG,CAEXC,KAAK,CAAE,CAAEb,IAAI,CAAJA,IAAF,CAFI,CAAb,EAID,CALD,IAKO,CACLO,OAAO,CAACI,IAAR,CAAa,CACXC,QAAQ,YAAMd,MAAN,CADG,CAEXe,KAAK,CAAE,CAAEb,IAAI,CAAJA,IAAF,CAFI,CAAb,EAID,CACF,CAZD,CAcA,mBACE,YACE,KAAK,CAAE,CAAEE,MAAM,CAAEA,MAAV,CAAkBC,KAAK,CAAEA,KAAzB,CADT,CAEE,SAAS,CAAC,wCAFZ,uBAIE,YAAK,SAAS,CAAC,8EAAf,uBACE,YAAK,SAAS,CAAC,uHAAf,uBACE,aAAK,SAAS,CAAC,kCAAf,wBACE,YAAI,SAAS,CAAC,oCAAd,oBACSL,MADT,GADF,cAIE,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,+CAAf,gDADF,cAIE,kCACE,YAAK,SAAS,CAAC,2CAAf,uBACE,cACE,SAAS,CAAC,wGADZ,CAEE,EAAE,CAAC,SAFL,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAC,SAJR,CAKE,WAAW,CAAC,gBALd,CAME,OAAO,CAAC,UANV,CAOE,KAAK,CAAEM,QAPT,CAQE,QAAQ,CAAE,kBAACU,KAAD,QAAWT,CAAAA,WAAW,CAACS,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EARZ,EADF,EADF,EAJF,cAkBE,eACE,SAAS,CAAC,qFADZ,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,SAHR,CAIE,OAAO,CAAE,kBAAM,CACbf,OAAO,CAACG,QAAD,CAAP,CACAL,YAAY,CAACK,QAAD,CAAZ,CACAI,OAAO,CAACJ,QAAD,CAAP,CACAK,WAAW,CAACL,QAAD,CAAX,CACD,CATH,uBAlBF,GAJF,cAoCE,YAAK,GAAG,CAAEE,UAAV,EApCF,GADF,EADF,EAJF,EADF,CAiDD,CAxED,CA0EA,cAAeV,CAAAA,QAAf","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useChat from \"./useChat\";\nimport useWindowDimensions from \"./hooks/WindowDimensions\";\n\nconst JoinChat = (props) => {\n  const { roomId, onNameUpdate } = props;\n  const [name, setName] = useState(\"\");\n  const { height, width } = useWindowDimensions();\n  const [userName, setUserName] = useState(\"\");\n  const messageRef = useRef();\n  const history = useHistory();\n  const { addUser } = useChat(roomId, name);\n\n  const handleClick = () => {\n    if (!roomId.length) {\n      history.push({\n        pathname: `/featured`,\n        state: { name },\n      });\n    } else {\n      history.push({\n        pathname: `/${roomId}`,\n        state: { name },\n      });\n    }\n  };\n\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"ml-auto bg-scheme-dark overflow-hidden\"\n    >\n      <div className=\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\">\n        <div className=\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pt-20 pb-14 bg-scheme-dark ml-auto\">\n          <div className=\"h-full ml-1 mt-1 overflow-y-auto\">\n            <h1 className=\"text-xl p-4 text-center text-white\">\n              Room: {roomId}\n            </h1>\n            <div className=\"m-auto xl:pt-12\">\n              <div className=\"font-bold text-white text-center text-lg px-4\">\n                Create a username to join the chat\n              </div>\n              <div>\n                <div className=\"xl:w-full w-80 overflow-hidden p-4 m-auto\">\n                  <input\n                    className=\"w-full h-10 pl-3 text-base bg-scheme-light placeholder-gray-500 border rounded-lg focus:shadow-outline\"\n                    id=\"message\"\n                    type=\"text\"\n                    label=\"Message\"\n                    placeholder=\"enter username\"\n                    variant=\"outlined\"\n                    value={userName}\n                    onChange={(event) => setUserName(event.target.value)}\n                  />\n                </div>\n              </div>\n              <button\n                className=\"h-12 m-auto flex items-center px-4 font-bold text-white bg-scheme-orange rounded-lg\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setName(userName);\n                  onNameUpdate(userName);\n                  addUser(userName);\n                  handleClick(userName)\n                }}\n              >\n                Join Chat\n              </button>\n            </div>\n            <div ref={messageRef}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JoinChat;\n"]},"metadata":{},"sourceType":"module"}