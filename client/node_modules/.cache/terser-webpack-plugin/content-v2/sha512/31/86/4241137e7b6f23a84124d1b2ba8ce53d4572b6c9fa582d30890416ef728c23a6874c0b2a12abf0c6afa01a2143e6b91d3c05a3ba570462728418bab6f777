{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,n){\"use strict\";n.r(t);var r=n(0),a=n.n(r),c=n(67),o=n.n(c),i=(n(40),n(35)),s=n(4),d=n(2),l=n(9),u=(n(22),n(15)),h=n(1),m=u.a.input({paddingLeft:\"1rem\",paddingRight:\"1rem\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",color:\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},width:\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",borderColor:\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",borderColor:\"rgba(203, 213, 224, var(--tw-border-opacity))\",borderWidth:\"1px\",borderStyle:\"solid\",borderRadius:\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",boxShadow:\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{marginLeft:\"auto\",marginRight:\"auto\"}}),b=(Object(u.a)(m)({textAlign:\"left\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\"}),function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}),f=function(e){var t=function(){var e=Object(r.useState)(b()),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(b())}return window.addEventListener(\"resize\",e),function(){return window.removeEventListener(\"resize\",e)}}),[]),n}(),n=t.height,a=t.width,c=Object(r.useState)(\"\"),o=Object(d.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(\"\"),m=Object(d.a)(u,2),f=m[0],x=m[1],j=Object(s.f)(),g=function(){i.length?j.push({pathname:\"/\".concat(i),state:{name:f}}):j.push({pathname:\"/featured\",state:{name:f}})};return Object(h.jsxs)(\"div\",{style:{height:n,width:a},className:\"bg-black overflow-hidden fixed\",children:[Object(h.jsx)(\"div\",{className:\"text-white text-2xl text-center p-2 pb-6\",children:\"lichessTV watch party\"}),Object(h.jsxs)(\"div\",{className:\"xl:w-full w-80 overflow-hidden p-4 m-auto md:pt-20 pt-10\",children:[Object(h.jsx)(\"input\",{className:\"w-full h-10 pl-3 mb-4 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"create username\",variant:\"outlined\",value:f,onChange:function(e){return x(e.target.value)}}),Object(h.jsx)(\"div\",{className:\"m-auto text-center text-white mb-8\",children:Object(h.jsx)(\"button\",{onClick:function(){return g()},className:\"border-white border-1 px-20 py-4 mt-4 rounded-lg\",children:\"join featured room\"})}),Object(h.jsx)(\"div\",{className:\"text-white text-center p-2 pb-8\",children:\"or enter a lichess.org game ID to create a room for a specific game in play\"}),Object(h.jsx)(\"input\",{className:\"w-full h-10 pl-3 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter lichess game id\",variant:\"outlined\",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(h.jsx)(\"div\",{className:\"m-auto text-center text-white\",children:Object(h.jsx)(\"button\",{onClick:function(){return g()},className:\"border-white border-1 px-20 py-4 mt-6 rounded-lg\",children:\"create custom room\"})}),Object(h.jsxs)(\"div\",{className:\"text-center fixed w-full bottom-0 border-t-1 text-white p-4 flex\",children:[Object(h.jsx)(\"a\",{href:\"https://lichess.org/api\",className:\"lg:text-xl text-sm text-white underline m-auto\",children:\"moves streamed using the lichess.org API\"}),Object(h.jsx)(\"h1\",{className:\"md:text-xl text-sm px-2\",children:\"-\"}),Object(h.jsx)(\"a\",{href:\"https://github.com/trevor-ofarrell/lichessTV-watch-party\",className:\"lg:text-xl text-sm text-white underline m-auto\",children:\"check out the source code on my GitHub\"})]})]})},x=n(29),j=n.n(x),g=n(24),p=n(23),w=n.n(p),v=n(38),O=n(68),y=n.n(O),N=n(39),S=n.n(N),E=\"NEW_CHAT_MESSAGE_EVENT\",T=\"START_TYPING_MESSAGE_EVENT\",I=\"STOP_TYPING_MESSAGE_EVENT\",C=function(e,t){var n=Object(r.useState)([]),a=Object(d.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)([]),s=Object(d.a)(i,2),u=s[0],h=s[1],m=Object(r.useState)([]),b=Object(d.a)(m,2),f=b[0],x=b[1],j=Object(r.useState)(),p=Object(d.a)(j,2),O=p[0],N=p[1],C=Object(r.useRef)(),k=function(){var e=[\"text-green-500\",\"text-purple-500\",\"text-pink-500\",\"text-red-500\",\"text-red-700\",\"text-blue-500\",\"text-blue-300\",\"text-green-400\",\"text-pink-700\",\"text-primary-500\",\"text-orange-500\"];return e[Math.floor(Math.random()*e.length)]};Object(r.useEffect)((function(){N({name:t,color:k()})}),[]),Object(r.useEffect)((function(){(function(){var t=Object(v.a)(w.a.mark((function t(){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(e,\"/users\"));case 2:n=t.sent,r=n.data.users,h(r);case 5:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(r.useEffect)((function(){(function(){var t=Object(v.a)(w.a.mark((function t(){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(e,\"/messages\"));case 2:n=t.sent,r=n.data.messages,o(r);case 5:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(r.useEffect)((function(){if(O)return C.current=y()(\"http://localhost:3030\",{query:{roomId:e,name:O.name}}),C.current.on(\"connect\",(function(){console.log(C.current.id)})),C.current.on(\"USER_JOIN_CHAT_EVENT\",(function(e){e.id!==\"\".concat(C.current.id).concat(e.name)&&h((function(t){return[].concat(Object(g.a)(t),[e])}))})),C.current.on(\"USER_LEAVE_CHAT_EVENT\",(function(e){h((function(t){return t.filter((function(t){return t.id!==e.id}))}))})),C.current.on(E,(function(e){var t=Object(l.a)(Object(l.a)({},e),{},{ownedByCurrentUser:e.senderId===\"\".concat(C.current.id).concat(O.name)});o((function(e){return[].concat(Object(g.a)(e),[t])}))})),C.current.on(T,(function(e){if(e.senderId!==\"\".concat(C.current.id).concat(O.name)){var t=e.user;x((function(e){return[].concat(Object(g.a)(e),[t])}))}})),C.current.on(I,(function(e){if(e.senderId!==\"\".concat(C.current.id).concat(O.name)){var t=e.user;x((function(e){return e.filter((function(e){return e.name!==t.name}))}))}})),function(){C.current.disconnect()}}),[e,O]);return{messages:c,user:O,users:u,typingUsers:f,sendMessage:function(e,t){C.current&&(!0===t?C.current.emit(E,{body:e,senderId:C.current.id,name:null===O||void 0===O?void 0:O.name,system:t}):C.current.emit(E,{body:e,senderId:\"\".concat(C.current.id).concat(O.name),user:O,name:null===O||void 0===O?void 0:O.name,color:null===O||void 0===O?void 0:O.color,system:t}))},startTypingMessage:function(){C.current&&C.current.emit(T,{senderId:C.current.id,user:O})},stopTypingMessage:function(){C.current&&C.current.emit(I,{senderId:C.current.id,user:O})},addUser:function(e){var t={name:e};h((function(e){return[].concat(Object(g.a)(e),[t])}))}}},k=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(d.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(5),u=Object(d.a)(l,2),h=u[0],m=u[1];return Object(r.useEffect)((function(){var e;return i?(i||0===h)&&clearInterval(e):e=setInterval((function(){m((function(e){return e-1}))}),1e3),0===h&&a(!1),function(){return clearInterval(e)}}),[i,h]),{isTyping:n,startTyping:function(){s(!0),m(5),a(!0)},stopTyping:function(){s(!1)},cancelTyping:function(){m(0)}}},M=u.a.input({paddingLeft:\"1rem\",paddingRight:\"1rem\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",color:\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},width:\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",borderColor:\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",borderColor:\"rgba(203, 213, 224, var(--tw-border-opacity))\",borderWidth:\"1px\",borderStyle:\"solid\",borderRadius:\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",boxShadow:\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{marginLeft:\"auto\",marginRight:\"auto\"}}),L=(Object(u.a)(M)({textAlign:\"left\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\"}),function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}),R=function(e){var t=e.roomId,n=e.name,a=k(),c=a.isTyping,o=(a.startTyping,a.stopTyping,a.cancelTyping),i=function(){var e=Object(r.useState)(L()),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(L())}return window.addEventListener(\"resize\",e),function(){return window.removeEventListener(\"resize\",e)}}),[]),n}(),s=i.height,l=i.width,u=Object(r.useState)(\"\"),m=Object(d.a)(u,2),b=m[0],f=m[1],x=Object(r.useState)(\"\"),g=Object(d.a)(x,2),p=g[0],w=g[1],v=Object(r.useState)([]),O=Object(d.a)(v,2),y=O[0],N=O[1],S=Object(r.useState)(\"\"),E=Object(d.a)(S,2),T=E[0],I=E[1],M=Object(r.useState)(\"\"),R=Object(d.a)(M,2),W=R[0],_=R[1],A=Object(r.useRef)(),H=Object(r.useState)(!1),U=Object(d.a)(H,2),B=U[0],V=U[1],z=C(t,n),F=z.messages,J=(z.user,z.users,z.typingUsers,z.sendMessage),G=z.startTypingMessage,P=z.stopTypingMessage,D=(z.addUser,function(e,t){e.user.name&&t(e.user.title?e.user.title+\" \"+e.user.name+\" \"+e.rating:e.user.name+\" \"+e.rating)});return Object(r.useEffect)((function(){return A.current.scrollIntoView({behavior:\"smooth\"})})),Object(r.useEffect)((function(){B||((\"featured\"!==t?new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstvcustom/?id=\").concat(t)):new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstv\"))).onmessage=\"featured\"!==t?function(e){var t=JSON.parse(e.data);N([t.fen]),t.id&&w(t.id)}:function(e){var t=JSON.parse(e.data);console.log(e.data),N([t.d.fen]),t.d.players&&(D(t.d.players[0],_),D(t.d.players[1],I)),t.d.id&&w(t.d.id)},V(!0))}),[B,y]),Object(r.useEffect)((function(){c?G():P()}),[c]),Object(h.jsx)(\"div\",{style:{height:s,width:l},className:\"ml-auto bg-black overflow-hidden\",children:Object(h.jsxs)(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:[Object(h.jsx)(\"a\",{href:\"/\",className:\"md:left-4 md:top-4 left-2 top-2 absolute md:pr-6 hidden md:flex\",children:Object(h.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"md:h-10 md:w-10 h-8 w-8 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:Object(h.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})})}),Object(h.jsxs)(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto mt-0\",children:[Object(h.jsxs)(\"div\",{className:\"flex md:mt-2\",children:[Object(h.jsxs)(\"div\",{className:\"flex mr-auto p-2 pl-0\",children:[Object(h.jsx)(\"h1\",{className:\"md:text-xl text-sm text-white pr-1\",children:\"game:\"}),Object(h.jsxs)(\"a\",{href:\"https://lichess.org/\".concat(p),className:\"md:text-xl text-sm text-white\",children:[\"lichess.org/\",p]})]}),Object(h.jsxs)(\"h1\",{className:\"md:text-xl text-sm text-white p-2 m-auto\",children:[\"room: \",t]})]}),Object(h.jsxs)(\"div\",{className:\"font-medium md:text-sm md:pl-0 text-xs pl-6 text-white max-w-50% text-left break-all hidden md:flex\",children:[\"FEN: \",y]}),Object(h.jsxs)(\"div\",{className:\"m-auto\",children:[Object(h.jsx)(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:T}),Object(h.jsx)(\"div\",{className:\"m-auto\",children:Object(h.jsx)(j.a,{position:y[0],transitionDuration:100,showNotation:!1,calcWidth:function(e){return e.screenWidth<1440?e.screenHeight/100*46:e.screenWidth>1440?e.screenHeight/100*70:screen.width/100*100}})}),Object(h.jsxs)(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:[\" \",W]})]})]}),Object(h.jsx)(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-black ml-auto\",children:Object(h.jsxs)(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(\"ol\",{children:F.map((function(e,t){return Object(h.jsx)(\"li\",{children:!0===e.system?Object(h.jsx)(\"div\",{className:\"text-center text-gray-500 text-sm\",children:e.body}):Object(h.jsxs)(\"span\",{className:\"text-left text-white text-sm flex\",children:[e.name?Object(h.jsxs)(\"div\",{className:\"font-bold \".concat(e.user.color,\" mr-1\"),children:[e.name,\":\"]}):Object(h.jsx)(h.Fragment,{children:\"\"}),e.body]})},t)}))}),Object(h.jsxs)(\"div\",{className:\"xl:w-30% px-auto w-99 bottom-1 absolute\",children:[Object(h.jsx)(\"input\",{className:\"w-full h-10 pl-3 pr-8 text-base placeholder-white-600 border bg-gray-700 rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter message here\",variant:\"outlined\",value:b,onChange:function(e){f(e.target.value)},onKeyUp:function(e){\"Enter\"===e.key&&\"\"!==b&&(J(b,!1),f(\"\"))}}),Object(h.jsx)(\"button\",{className:\"absolute inset-y-0 h-10 right-0 flex items-center px-4 font-bold text-white bg-yellow-600 rounded-r-lg hover:bg-blue-500\",disabled:!b,variant:\"contained\",color:\"primary\",onClick:function(e){e.preventDefault(),o(),\"\"!==b&&(J(b,!1),f(\"\"))},children:\"Send\"})]})]}),Object(h.jsx)(\"div\",{ref:A})]})})]})})},W=u.a.input({paddingLeft:\"1rem\",paddingRight:\"1rem\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",color:\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},width:\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",borderColor:\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",borderColor:\"rgba(203, 213, 224, var(--tw-border-opacity))\",borderWidth:\"1px\",borderStyle:\"solid\",borderRadius:\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",boxShadow:\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{marginLeft:\"auto\",marginRight:\"auto\"}}),_=(Object(u.a)(W)({textAlign:\"left\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\"}),function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}),A=function(e){var t=e.roomId,n=e.onNameUpdate,a=Object(r.useState)(\"\"),c=Object(d.a)(a,2),o=c[0],i=c[1],s=k(),l=(s.isTyping,s.startTyping,s.stopTyping,s.cancelTyping,function(){var e=Object(r.useState)(_()),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(_())}return window.addEventListener(\"resize\",e),function(){return window.removeEventListener(\"resize\",e)}}),[]),n}()),u=l.height,m=l.width,b=Object(r.useState)(\"\"),f=Object(d.a)(b,2),x=(f[0],f[1],Object(r.useState)([])),g=Object(d.a)(x,2),p=g[0],w=g[1],v=Object(r.useState)(\"\"),O=Object(d.a)(v,2),y=O[0],N=O[1],S=Object(r.useState)(\"\"),E=Object(d.a)(S,2),T=E[0],I=E[1],M=Object(r.useState)(\"\"),L=Object(d.a)(M,2),R=L[0],W=L[1],A=Object(r.useRef)(),H=Object(r.useState)(!1),U=Object(d.a)(H,2),B=U[0],V=U[1],z=C(t,o),F=(z.messages,z.user,z.users,z.typingUsers,z.sendMessage,z.startTypingMessage,z.stopTypingMessage,z.addUser),J=function(e,t){e.user.name&&t(e.user.title?e.user.title+\" \"+e.user.name+\" \"+e.rating:e.user.name+\" \"+e.rating)};return Object(r.useEffect)((function(){return A.current.scrollIntoView({behavior:\"smooth\"})})),Object(r.useEffect)((function(){B||((\"featured\"!==t?new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstvcustom/?id=\").concat(t)):new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstv\"))).onmessage=\"featured\"!==t?function(e){var t=JSON.parse(e.data);console.log(e.data),w([t.fen])}:function(e){var t=JSON.parse(e.data);console.log(e.data),w([t.d.fen]),t.d.players&&(J(t.d.players[0],I),J(t.d.players[1],N))},V(!0))}),[B,p]),Object(h.jsx)(\"div\",{style:{height:u,width:m},className:\"ml-auto bg-black overflow-hidden\",children:Object(h.jsxs)(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:[Object(h.jsxs)(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto\",children:[Object(h.jsxs)(\"div\",{className:\"font-medium md:text-sm text-xs text-white max-w-70 text-left break-all\",children:[\"FEN: \",p]}),Object(h.jsxs)(\"div\",{className:\"m-auto\",children:[Object(h.jsx)(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:y}),Object(h.jsx)(\"div\",{className:\"m-auto\",children:Object(h.jsx)(j.a,{position:p[0],transitionDuration:100,showNotation:!1,calcWidth:function(e){return e.screenWidth<1440?e.screenHeight/100*46:e.screenWidth>1440?e.screenHeight/100*70:screen.width/100*100}})}),Object(h.jsxs)(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:[\" \",T]})]})]}),Object(h.jsx)(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-black ml-auto\",children:Object(h.jsxs)(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[Object(h.jsxs)(\"h1\",{className:\"text-lg\",children:[\"Room: \",t]}),Object(h.jsxs)(\"div\",{className:\"m-auto xl:pt-12\",children:[Object(h.jsx)(\"div\",{className:\"font-bold text-white text-center text-lg px-4\",children:\"Create a username to join the chat\"}),Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"div\",{className:\"xl:w-full w-80 overflow-hidden p-4 m-auto\",children:Object(h.jsx)(\"input\",{className:\"w-full h-10 pl-3 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter username\",variant:\"outlined\",value:R,onChange:function(e){return W(e.target.value)}})})}),Object(h.jsx)(\"button\",{className:\"h-12 m-auto flex items-center px-4 font-bold text-white bg-yellow-600 rounded-lg hover:bg-green-600 focus:bg-green-600\",variant:\"contained\",color:\"primary\",onClick:function(){i(R),n(R),F(R)},children:\"Join Chat\"})]}),Object(h.jsx)(\"div\",{ref:A})]})})]})})},H=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},U=function(e){var t,n=function(){var e=Object(r.useState)(H()),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a(H())}return window.addEventListener(\"resize\",e),function(){return window.removeEventListener(\"resize\",e)}}),[]),n}(),a=n.height,c=n.width,o=e.match.params.roomId,i=Object(r.useState)(null===(t=e.location.state)||void 0===t?void 0:t.name),s=Object(d.a)(i,2),l=s[0],u=s[1];return Object(h.jsx)(\"div\",{style:{height:a,width:c},className:\"ml-auto bg-gray-900 overflow-hidden fixed\",children:l?Object(h.jsx)(R,{name:l,roomId:o}):Object(h.jsx)(A,{roomId:o,onNameUpdate:function(e){u(e)}})})};var B=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:\"/\",component:f}),Object(h.jsx)(s.a,{exact:!0,path:\"/:roomId\",component:U})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById(\"root\")),V()},40:function(e,t,n){}},[[127,1,2]]]);","name":"static/js/main.3c64f1cf.chunk.js","map":{"version":3,"sources":["static/js/main.3c64f1cf.chunk.js"],"names":["this","push","127","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","slicedToArray","objectSpread2","emotion_styled_browser_esm","jsx_runtime","Input","input","paddingLeft","paddingRight","paddingTop","paddingBottom","::placeholder","--tw-placeholder-opacity","color","width",":focus","--tw-ring-opacity","--tw-ring-color","--tw-border-opacity","borderColor","borderWidth","borderStyle","borderRadius","--tw-shadow","boxShadow","@media (min-width: 1024px)","marginLeft","marginRight","getWindowDimensions","Object","textAlign","_window","window","innerWidth","height","innerHeight","src_Home","props","_useWindowDimensions","_useState","_useState2","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","Home_useWindowDimensions","_useState3","_useState4","room","setRoomName","_useState5","_useState6","name","setName","history","handleClick","length","pathname","concat","state","style","className","children","id","type","label","placeholder","variant","value","onChange","event","target","onClick","href","chessboard_min","chessboard_min_default","toConsumableArray","regenerator","regenerator_default","asyncToGenerator","build","build_default","axios","axios_default","NEW_CHAT_MESSAGE_EVENT","START_TYPING_MESSAGE_EVENT","STOP_TYPING_MESSAGE_EVENT","src_useChat","roomId","messages","setMessages","users","setUsers","typingUsers","setTypingUsers","_useState7","_useState8","user","setUser","socketRef","selectRandomColor","colors","Math","floor","random","_ref","a","mark","_callee","response","result","wrap","_context","prev","next","get","sent","data","stop","apply","arguments","fetchUsers","_ref2","_callee2","_context2","fetchMessages","current","query","on","console","log","filter","u","message","incomingMessage","ownedByCurrentUser","senderId","typingInfo","_user","_user2","disconnect","sendMessage","messageBody","system","emit","body","startTypingMessage","stopTypingMessage","addUser","src_useTyping","isTyping","setIsTyping","isKeyPressed","setIsKeyPressed","countdown","setCountdown","interval","clearInterval","setInterval","c","startTyping","stopTyping","cancelTyping","Room_Input","Room_getWindowDimensions","src_Room","_useTyping","Room_useWindowDimensions","newMessage","setNewMessage","gameID","setGameID","FEN","setFEN","_useState9","_useState10","black","setBlack","_useState11","_useState12","white","setWhite","messageRef","_useState13","_useState14","listening","setListening","_useChat","createPlayerNames","setPlayer","title","rating","scrollIntoView","behavior","EventSource","onmessage","parsedData","JSON","parse","fen","d","players","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","position","transitionDuration","showNotation","calcWidth","size","screenWidth","screenHeight","screen","map","i","onKeyUp","key","disabled","preventDefault","ref","JoinChat_Input","JoinChat_getWindowDimensions","src_JoinChat","onNameUpdate","JoinChat_useWindowDimensions","userName","setUserName","_useState15","_useState16","Chat_getWindowDimensions","src_Chat","_props$location$state","Chat_useWindowDimensions","match","params","location","src_App","exact","path","component","src_reportWebVitals","onPerfEntry","Function","e","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById","40","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(67);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js + 13 modules\nvar emotion_styled_browser_esm = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/Home.jsx\nvar Input=emotion_styled_browser_esm[\"a\" /* default */].input({\"paddingLeft\":\"1rem\",\"paddingRight\":\"1rem\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",\"color\":\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},\"width\":\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(203, 213, 224, var(--tw-border-opacity))\",\"borderWidth\":\"1px\",\"borderStyle\":\"solid\",\"borderRadius\":\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",\"boxShadow\":\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\"}});var InputTextLeft=Object(emotion_styled_browser_esm[\"a\" /* default */])(Input)({\"textAlign\":\"left\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\"});var Home_PrimaryButton=function PrimaryButton(_ref){var _ref$className=_ref.className,className=_ref$className===void 0?\"\":_ref$className,children=_ref.children,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"className\",\"children\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({className:\"bg-primary-500 hover:bg-primary-300 text-white\"},rest),{},{\"data-testid\":\"btn\",children:children}));};var getWindowDimensions=function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};};var Home_useWindowDimensions=function useWindowDimensions(){var _useState=Object(react[\"useState\"])(getWindowDimensions()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),windowDimensions=_useState2[0],setWindowDimensions=_useState2[1];Object(react[\"useEffect\"])(function(){function handleResize(){setWindowDimensions(getWindowDimensions());}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);return windowDimensions;};var Home_Home=function Home(props){var _useWindowDimensions=Home_useWindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),room=_useState4[0],setRoomName=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),name=_useState6[0],setName=_useState6[1];var history=Object(react_router[\"f\" /* useHistory */])();var handleClick=function handleClick(){if(!room.length){history.push({pathname:\"/featured\",state:{name:name}});}else{history.push({pathname:\"/\".concat(room),state:{name:name}});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{height:height,width:width},className:\"bg-black overflow-hidden fixed\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-white text-2xl text-center p-2 pb-6\",children:\"lichessTV watch party\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"xl:w-full w-80 overflow-hidden p-4 m-auto md:pt-20 pt-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 mb-4 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"create username\",variant:\"outlined\",value:name,onChange:function onChange(event){return setName(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"m-auto text-center text-white mb-8\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleClick(\"\");},className:\"border-white border-1 px-20 py-4 mt-4 rounded-lg\",children:\"join featured room\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-white text-center p-2 pb-8\",children:\"or enter a lichess.org game ID to create a room for a specific game in play\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter lichess game id\",variant:\"outlined\",value:room,onChange:function onChange(event){return setRoomName(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"m-auto text-center text-white\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleClick(name);},className:\"border-white border-1 px-20 py-4 mt-6 rounded-lg\",children:\"create custom room\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-center fixed w-full bottom-0 border-t-1 text-white p-4 flex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://lichess.org/api\",className:\"lg:text-xl text-sm text-white underline m-auto\",children:\"moves streamed using the lichess.org API\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"md:text-xl text-sm px-2\",children:\"-\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/trevor-ofarrell/lichessTV-watch-party\",className:\"lg:text-xl text-sm text-white underline m-auto\",children:\"check out the source code on my GitHub\"})]})]});};/* harmony default export */ var src_Home = (Home_Home);\n// EXTERNAL MODULE: ./node_modules/chessboardjsx/dist/chessboard.min.js\nvar chessboard_min = __webpack_require__(29);\nvar chessboard_min_default = /*#__PURE__*/__webpack_require__.n(chessboard_min);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(23);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(68);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(39);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/useChat.js\nvar USER_JOIN_CHAT_EVENT=\"USER_JOIN_CHAT_EVENT\";var USER_LEAVE_CHAT_EVENT=\"USER_LEAVE_CHAT_EVENT\";var NEW_CHAT_MESSAGE_EVENT=\"NEW_CHAT_MESSAGE_EVENT\";var START_TYPING_MESSAGE_EVENT=\"START_TYPING_MESSAGE_EVENT\";var STOP_TYPING_MESSAGE_EVENT=\"STOP_TYPING_MESSAGE_EVENT\";var useChat_useChat=function useChat(roomId,name){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),typingUsers=_useState6[0],setTypingUsers=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),user=_useState8[0],setUser=_useState8[1];var socketRef=Object(react[\"useRef\"])();var selectRandomColor=function selectRandomColor(){var colors=['text-green-500','text-purple-500','text-pink-500','text-red-500','text-red-700','text-blue-500','text-blue-300','text-green-400','text-pink-700','text-primary-500','text-orange-500'];return colors[Math.floor(Math.random()*colors.length)];};Object(react[\"useEffect\"])(function(){var fetchUser=function fetchUser(){setUser({name:name,color:selectRandomColor()});};fetchUser();},[]);Object(react[\"useEffect\"])(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(roomId,\"/users\"));case 2:response=_context.sent;result=response.data.users;setUsers(result);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers();},[roomId]);Object(react[\"useEffect\"])(function(){var fetchMessages=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var response,result;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios_default.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(roomId,\"/messages\"));case 2:response=_context2.sent;result=response.data.messages;setMessages(result);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchMessages(){return _ref2.apply(this,arguments);};}();fetchMessages();},[roomId]);Object(react[\"useEffect\"])(function(){if(!user){return;}socketRef.current=build_default()(\"http://localhost:3030\",{query:{roomId:roomId,name:user.name}});socketRef.current.on(\"connect\",function(){console.log(socketRef.current.id);});socketRef.current.on(USER_JOIN_CHAT_EVENT,function(user){if(user.id===\"\".concat(socketRef.current.id).concat(user.name))return;setUsers(function(users){return[].concat(Object(toConsumableArray[\"a\" /* default */])(users),[user]);});});socketRef.current.on(USER_LEAVE_CHAT_EVENT,function(user){setUsers(function(users){return users.filter(function(u){return u.id!==user.id;});});});socketRef.current.on(NEW_CHAT_MESSAGE_EVENT,function(message){var incomingMessage=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},message),{},{ownedByCurrentUser:message.senderId===\"\".concat(socketRef.current.id).concat(user.name)});setMessages(function(messages){return[].concat(Object(toConsumableArray[\"a\" /* default */])(messages),[incomingMessage]);});});socketRef.current.on(START_TYPING_MESSAGE_EVENT,function(typingInfo){if(typingInfo.senderId!==\"\".concat(socketRef.current.id).concat(user.name)){var _user=typingInfo.user;setTypingUsers(function(users){return[].concat(Object(toConsumableArray[\"a\" /* default */])(users),[_user]);});}});socketRef.current.on(STOP_TYPING_MESSAGE_EVENT,function(typingInfo){if(typingInfo.senderId!==\"\".concat(socketRef.current.id).concat(user.name)){var _user2=typingInfo.user;setTypingUsers(function(users){return users.filter(function(u){return u.name!==_user2.name;});});}});return function(){socketRef.current.disconnect();};},[roomId,user]);var sendMessage=function sendMessage(messageBody,system){if(!socketRef.current)return;if(system===true){socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT,{body:messageBody,senderId:socketRef.current.id,name:user===null||user===void 0?void 0:user.name,system:system});}else{socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT,{body:messageBody,senderId:\"\".concat(socketRef.current.id).concat(user.name),user:user,name:user===null||user===void 0?void 0:user.name,color:user===null||user===void 0?void 0:user.color,system:system});}};var startTypingMessage=function startTypingMessage(){if(!socketRef.current)return;socketRef.current.emit(START_TYPING_MESSAGE_EVENT,{senderId:socketRef.current.id,user:user});};var stopTypingMessage=function stopTypingMessage(){if(!socketRef.current)return;socketRef.current.emit(STOP_TYPING_MESSAGE_EVENT,{senderId:socketRef.current.id,user:user});};var addUser=function addUser(name){var user={name:name};setUsers(function(users){return[].concat(Object(toConsumableArray[\"a\" /* default */])(users),[user]);});};return{messages:messages,user:user,users:users,typingUsers:typingUsers,sendMessage:sendMessage,startTypingMessage:startTypingMessage,stopTypingMessage:stopTypingMessage,addUser:addUser};};/* harmony default export */ var src_useChat = (useChat_useChat);\n// CONCATENATED MODULE: ./src/useTyping.js\nvar useTyping_useTyping=function useTyping(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isTyping=_useState2[0],setIsTyping=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isKeyPressed=_useState4[0],setIsKeyPressed=_useState4[1];var _useState5=Object(react[\"useState\"])(5),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),countdown=_useState6[0],setCountdown=_useState6[1];var startTyping=function startTyping(){setIsKeyPressed(true);setCountdown(5);setIsTyping(true);};var stopTyping=function stopTyping(){setIsKeyPressed(false);};var cancelTyping=function cancelTyping(){setCountdown(0);};Object(react[\"useEffect\"])(function(){var interval;if(!isKeyPressed){interval=setInterval(function(){setCountdown(function(c){return c-1;});},1000);}else if(isKeyPressed||countdown===0){clearInterval(interval);}if(countdown===0){setIsTyping(false);}return function(){return clearInterval(interval);};},[isKeyPressed,countdown]);return{isTyping:isTyping,startTyping:startTyping,stopTyping:stopTyping,cancelTyping:cancelTyping};};/* harmony default export */ var src_useTyping = (useTyping_useTyping);\n// CONCATENATED MODULE: ./src/Room.jsx\nvar Room_Input=emotion_styled_browser_esm[\"a\" /* default */].input({\"paddingLeft\":\"1rem\",\"paddingRight\":\"1rem\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",\"color\":\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},\"width\":\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(203, 213, 224, var(--tw-border-opacity))\",\"borderWidth\":\"1px\",\"borderStyle\":\"solid\",\"borderRadius\":\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",\"boxShadow\":\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\"}});var Room_InputTextLeft=Object(emotion_styled_browser_esm[\"a\" /* default */])(Room_Input)({\"textAlign\":\"left\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\"});var Room_getWindowDimensions=function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};};var Room_useWindowDimensions=function useWindowDimensions(){var _useState=Object(react[\"useState\"])(Room_getWindowDimensions()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),windowDimensions=_useState2[0],setWindowDimensions=_useState2[1];Object(react[\"useEffect\"])(function(){function handleResize(){setWindowDimensions(Room_getWindowDimensions());}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);return windowDimensions;};var Room_Room=function Room(props){var roomId=props.roomId,name=props.name;var _useTyping=src_useTyping(),isTyping=_useTyping.isTyping,startTyping=_useTyping.startTyping,stopTyping=_useTyping.stopTyping,cancelTyping=_useTyping.cancelTyping;var _useWindowDimensions=Room_useWindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newMessage=_useState4[0],setNewMessage=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),gameID=_useState6[0],setGameID=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),FEN=_useState8[0],setFEN=_useState8[1];var _useState9=Object(react[\"useState\"])(\"\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),black=_useState10[0],setBlack=_useState10[1];var _useState11=Object(react[\"useState\"])(\"\"),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),white=_useState12[0],setWhite=_useState12[1];var messageRef=Object(react[\"useRef\"])();var _useState13=Object(react[\"useState\"])(false),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),listening=_useState14[0],setListening=_useState14[1];var _useChat=src_useChat(roomId,name),messages=_useChat.messages,user=_useChat.user,users=_useChat.users,typingUsers=_useChat.typingUsers,sendMessage=_useChat.sendMessage,startTypingMessage=_useChat.startTypingMessage,stopTypingMessage=_useChat.stopTypingMessage,addUser=_useChat.addUser;var handleNewMessageChange=function handleNewMessageChange(event){setNewMessage(event.target.value);};var handleSendMessage=function handleSendMessage(event){event.preventDefault();cancelTyping();if(newMessage!==\"\"){sendMessage(newMessage,false);setNewMessage(\"\");}};var handleKeyUp=function handleKeyUp(event){if(event.key===\"Enter\"){if(newMessage!==\"\"){sendMessage(newMessage,false);setNewMessage(\"\");}}};var createPlayerNames=function createPlayerNames(user,setPlayer){var username=\"\";if(user.user.name){if(user.user.title){username=user.user.title+\" \"+user.user.name+\" \"+user.rating;}else{username=user.user.name+\" \"+user.rating;}setPlayer(username);}};var selectRandomColor=function selectRandomColor(){colors=['text-green-400','text-purple-400','text-pink-400','text-red-400','text-blue-400','text-orange-400'];return colors[Math.floor(Math.random()*colors.length)];};Object(react[\"useEffect\"])(function(){return messageRef.current.scrollIntoView({behavior:\"smooth\"});});Object(react[\"useEffect\"])(function(){if(!listening){var source;roomId!==\"featured\"?source=new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstvcustom/?id=\").concat(roomId)):source=new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstv\"));if(roomId!==\"featured\"){source.onmessage=function(event){var parsedData=JSON.parse(event.data);//console.log(event.data);\nsetFEN([parsedData.fen]);if(parsedData.id){setGameID(parsedData.id);}};}else{source.onmessage=function(event){var parsedData=JSON.parse(event.data);console.log(event.data);setFEN([parsedData.d.fen]);if(parsedData.d.players){createPlayerNames(parsedData.d.players[0],setWhite);createPlayerNames(parsedData.d.players[1],setBlack);}if(parsedData.d.id){setGameID(parsedData.d.id);}};}setListening(true);}},[listening,FEN]);Object(react[\"useEffect\"])(function(){if(isTyping)startTypingMessage();else stopTypingMessage();},[isTyping]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:height,width:width},className:\"ml-auto bg-black overflow-hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",className:\"md:left-4 md:top-4 left-2 top-2 absolute md:pr-6 hidden md:flex\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"md:h-10 md:w-10 h-8 w-8 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto mt-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex md:mt-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex mr-auto p-2 pl-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"md:text-xl text-sm text-white pr-1\",children:\"game:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\",{href:\"https://lichess.org/\".concat(gameID),className:\"md:text-xl text-sm text-white\",children:[\"lichess.org/\",gameID]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{className:\"md:text-xl text-sm text-white p-2 m-auto\",children:[\"room: \",roomId]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"font-medium md:text-sm md:pl-0 text-xs pl-6 text-white max-w-50% text-left break-all hidden md:flex\",children:[\"FEN: \",FEN]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"m-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:black}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"m-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chessboard_min_default.a,{position:FEN[0],transitionDuration:100,showNotation:false,calcWidth:function calcWidth(size){return size.screenWidth<1440?size.screenHeight/100*46:size.screenWidth>1440?size.screenHeight/100*70:screen.width/100*100;}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:[\" \",white]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-black ml-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ol\",{children:messages.map(function(message,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:message.system===true?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center text-gray-500 text-sm\",children:message.body}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"text-left text-white text-sm flex\",children:[message.name?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"font-bold \".concat(message.user.color,\" mr-1\"),children:[message.name,\":\"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:\"\"}),message.body]})},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"xl:w-30% px-auto w-99 bottom-1 absolute\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 pr-8 text-base placeholder-white-600 border bg-gray-700 rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter message here\",variant:\"outlined\",value:newMessage,onChange:handleNewMessageChange,onKeyUp:handleKeyUp}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"absolute inset-y-0 h-10 right-0 flex items-center px-4 font-bold text-white bg-yellow-600 rounded-r-lg hover:bg-blue-500\",disabled:!newMessage,variant:\"contained\",color:\"primary\",onClick:handleSendMessage,children:\"Send\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:messageRef})]})})]})});};/* harmony default export */ var src_Room = (Room_Room);\n// CONCATENATED MODULE: ./src/JoinChat.jsx\nvar JoinChat_Input=emotion_styled_browser_esm[\"a\" /* default */].input({\"paddingLeft\":\"1rem\",\"paddingRight\":\"1rem\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",\"color\":\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},\"width\":\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(203, 213, 224, var(--tw-border-opacity))\",\"borderWidth\":\"1px\",\"borderStyle\":\"solid\",\"borderRadius\":\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",\"boxShadow\":\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\"}});var JoinChat_InputTextLeft=Object(emotion_styled_browser_esm[\"a\" /* default */])(JoinChat_Input)({\"textAlign\":\"left\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\"});var JoinChat_PrimaryButton=function PrimaryButton(_ref){var _ref$className=_ref.className,className=_ref$className===void 0?\"\":_ref$className,children=_ref.children,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"className\",\"children\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinChat_Button,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({className:\"bg-primary-500 hover:bg-primary-300 text-white\"},rest),{},{\"data-testid\":\"btn\",children:children}));};var JoinChat_Button=function Button(_ref2){var _ref2$className=_ref2.className,className=_ref2$className===void 0?\"\":_ref2$className,children=_ref2.children,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref2,[\"className\",\"children\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({className:\"py-2 px-4 focus:outline-none ring-opacity-75 ring-primary-400 focus:ring text-lg rounded-md\"},rest),{},{\"data-testid\":\"btn\",children:children}));};var JoinChat_getWindowDimensions=function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};};var JoinChat_useWindowDimensions=function useWindowDimensions(){var _useState=Object(react[\"useState\"])(JoinChat_getWindowDimensions()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),windowDimensions=_useState2[0],setWindowDimensions=_useState2[1];Object(react[\"useEffect\"])(function(){function handleResize(){setWindowDimensions(JoinChat_getWindowDimensions());}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);return windowDimensions;};var JoinChat_JoinChat=function JoinChat(props){var roomId=props.roomId,onNameUpdate=props.onNameUpdate;var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useTyping=src_useTyping(),isTyping=_useTyping.isTyping,startTyping=_useTyping.startTyping,stopTyping=_useTyping.stopTyping,cancelTyping=_useTyping.cancelTyping;var _useWindowDimensions=JoinChat_useWindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newMessage=_useState6[0],setNewMessage=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),FEN=_useState8[0],setFEN=_useState8[1];var _useState9=Object(react[\"useState\"])(\"\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),black=_useState10[0],setBlack=_useState10[1];var _useState11=Object(react[\"useState\"])(\"\"),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),white=_useState12[0],setWhite=_useState12[1];var _useState13=Object(react[\"useState\"])(\"\"),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),userName=_useState14[0],setUserName=_useState14[1];var messageRef=Object(react[\"useRef\"])();var _useState15=Object(react[\"useState\"])(false),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),listening=_useState16[0],setListening=_useState16[1];var _useChat=src_useChat(roomId,name),messages=_useChat.messages,user=_useChat.user,users=_useChat.users,typingUsers=_useChat.typingUsers,sendMessage=_useChat.sendMessage,startTypingMessage=_useChat.startTypingMessage,stopTypingMessage=_useChat.stopTypingMessage,addUser=_useChat.addUser;var handleKeyUp=function handleKeyUp(event){if(event.key===\"Enter\"){if(newMessage!==\"\"){sendMessage(newMessage,false);setNewMessage(\"\");}}};var createPlayerNames=function createPlayerNames(user,setPlayer){var username=\"\";if(user.user.name){if(user.user.title){username=user.user.title+\" \"+user.user.name+\" \"+user.rating;}else{username=user.user.name+\" \"+user.rating;}setPlayer(username);}};Object(react[\"useEffect\"])(function(){return messageRef.current.scrollIntoView({behavior:\"smooth\"});});Object(react[\"useEffect\"])(function(){if(!listening){var source;roomId!==\"featured\"?source=new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstvcustom/?id=\").concat(roomId)):source=new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstv\"));if(roomId!==\"featured\"){source.onmessage=function(event){var parsedData=JSON.parse(event.data);console.log(event.data);setFEN([parsedData.fen]);};}else{source.onmessage=function(event){var parsedData=JSON.parse(event.data);console.log(event.data);setFEN([parsedData.d.fen]);if(parsedData.d.players){createPlayerNames(parsedData.d.players[0],setWhite);createPlayerNames(parsedData.d.players[1],setBlack);}};}setListening(true);}},[listening,FEN]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:height,width:width},className:\"ml-auto bg-black overflow-hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"font-medium md:text-sm text-xs text-white max-w-70 text-left break-all\",children:[\"FEN: \",FEN]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"m-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:black}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"m-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chessboard_min_default.a,{position:FEN[0],transitionDuration:100,showNotation:false,calcWidth:function calcWidth(size){return size.screenWidth<1440?size.screenHeight/100*46:size.screenWidth>1440?size.screenHeight/100*70:screen.width/100*100;}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"font-medium md:text-2xl text-lg my-1 text-white\",children:[\" \",white]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-black ml-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{className:\"text-lg\",children:[\"Room: \",roomId]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"m-auto xl:pt-12\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"font-bold text-white text-center text-lg px-4\",children:\"Create a username to join the chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"xl:w-full w-80 overflow-hidden p-4 m-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter username\",variant:\"outlined\",value:userName,onChange:function onChange(event){return setUserName(event.target.value);}})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"h-12 m-auto flex items-center px-4 font-bold text-white bg-yellow-600 rounded-lg hover:bg-green-600 focus:bg-green-600\",variant:\"contained\",color:\"primary\",onClick:function onClick(){setName(userName);onNameUpdate(userName);addUser(userName);},children:\"Join Chat\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:messageRef})]})})]})});};/* harmony default export */ var src_JoinChat = (JoinChat_JoinChat);\n// CONCATENATED MODULE: ./src/Chat.jsx\nvar Chat_getWindowDimensions=function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};};var Chat_useWindowDimensions=function useWindowDimensions(){var _useState=Object(react[\"useState\"])(Chat_getWindowDimensions()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),windowDimensions=_useState2[0],setWindowDimensions=_useState2[1];Object(react[\"useEffect\"])(function(){function handleResize(){setWindowDimensions(Chat_getWindowDimensions());}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);return windowDimensions;};var Chat_Chat=function Chat(props){var _props$location$state;var _useWindowDimensions=Chat_useWindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var roomId=props.match.params.roomId;var _useState3=Object(react[\"useState\"])((_props$location$state=props.location.state)===null||_props$location$state===void 0?void 0:_props$location$state.name),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),name=_useState4[0],setName=_useState4[1];var updateName=function updateName(name){setName(name);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:height,width:width},className:\"ml-auto bg-gray-900 overflow-hidden fixed\",children:name?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Room,{name:name,roomId:roomId}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_JoinChat,{roomId:roomId,onNameUpdate:updateName})});};/* harmony default export */ var src_Chat = (Chat_Chat);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",component:src_Home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/:roomId\",component:src_Chat})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 128)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[127,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/d9/code/lichessTV-watch-party/client/src/Home.jsx","/home/d9/code/lichessTV-watch-party/client/src/useChat.js","/home/d9/code/lichessTV-watch-party/client/src/useTyping.js","/home/d9/code/lichessTV-watch-party/client/src/Room.jsx","/home/d9/code/lichessTV-watch-party/client/src/JoinChat.jsx","/home/d9/code/lichessTV-watch-party/client/src/Chat.jsx","/home/d9/code/lichessTV-watch-party/client/src/App.js","/home/d9/code/lichessTV-watch-party/client/src/reportWebVitals.js","/home/d9/code/lichessTV-watch-party/client/src/index.js","/home/d9/code/lichessTV-watch-party/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/d9/code/lichessTV-watch-party/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/d9/code/lichessTV-watch-party/client/node_modules/postcss-loader/src/index.js??postcss!/home/d9/code/lichessTV-watch-party/client/src/index.css"],"names":["Input","tw","input","InputTextLeft","PrimaryButton","className","children","rest","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","Home","props","room","setRoomName","name","setName","history","useHistory","handleClick","length","push","pathname","state","event","target","value","USER_JOIN_CHAT_EVENT","USER_LEAVE_CHAT_EVENT","NEW_CHAT_MESSAGE_EVENT","START_TYPING_MESSAGE_EVENT","STOP_TYPING_MESSAGE_EVENT","useChat","roomId","messages","setMessages","users","setUsers","typingUsers","setTypingUsers","user","setUser","socketRef","useRef","selectRandomColor","colors","Math","floor","random","fetchUser","color","fetchUsers","axios","get","process","response","result","data","fetchMessages","current","socketIOClient","query","on","console","log","id","filter","u","message","incomingMessage","ownedByCurrentUser","senderId","typingInfo","disconnect","sendMessage","messageBody","system","emit","body","startTypingMessage","stopTypingMessage","addUser","useTyping","isTyping","setIsTyping","isKeyPressed","setIsKeyPressed","countdown","setCountdown","startTyping","stopTyping","cancelTyping","interval","setInterval","c","clearInterval","Room","newMessage","setNewMessage","gameID","setGameID","FEN","setFEN","black","setBlack","white","setWhite","messageRef","listening","setListening","handleNewMessageChange","handleSendMessage","preventDefault","handleKeyUp","key","createPlayerNames","setPlayer","username","title","rating","scrollIntoView","behavior","source","EventSource","onmessage","parsedData","JSON","parse","fen","d","players","size","screenWidth","screenHeight","screen","map","i","Button","JoinChat","onNameUpdate","userName","setUserName","Chat","match","params","location","updateName","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIO,GAAMA,MAAK,CAAGC,6CAAE,CAACC,KAAH,CAAQ,8wBAAR,CAAd,CAeA,GAAMC,cAAa,CAAGF,qDAAE,CAACD,KAAD,CAAF,CAAS,mEAAT,CAAtB,CAEA,GAAMI,mBAAa,CAAG,QAAhBA,cAAgB,MAA2C,yBAAxCC,SAAwC,CAAxCA,SAAwC,yBAA5B,EAA4B,gBAAxBC,QAAwB,MAAxBA,QAAwB,CAAXC,IAAW,mFACtE,mBACE,2BAAC,MAAD,oFACE,SAAS,iDADX,EAEMA,IAFN,MAGE,cAAY,KAHd,UAKGD,QALH,GADF,CASD,CAVM,CAYP,GAAME,oBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,YAAmDC,MAAnD,CAAoBC,KAApB,SAAQC,UAAR,CAAwCC,MAAxC,SAA2BC,WAA3B,CACA,MAAO,CACLH,KAAK,CAALA,KADK,CAELE,MAAM,CAANA,MAFK,CAAP,CAID,CAND,CAQA,GAAME,yBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,cAAgDC,yBAAQ,CACtDP,mBAAmB,EADmC,CAAxD,kEAAOQ,gBAAP,eAAyBC,mBAAzB,eAIAC,0BAAS,CAAC,UAAM,CACd,QAASC,aAAT,EAAwB,CACtBF,mBAAmB,CAACT,mBAAmB,EAApB,CAAnB,CACD,CAEDC,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCD,YAAlC,EACA,MAAO,kBAAMV,OAAM,CAACY,mBAAP,CAA2B,QAA3B,CAAqCF,YAArC,CAAN,EAAP,CACD,CAPQ,CAON,EAPM,CAAT,CASA,MAAOH,iBAAP,CACD,CAfD,CAiBA,GAAMM,UAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,CACtB,yBAA0BT,wBAAmB,EAA7C,CAAQF,MAAR,sBAAQA,MAAR,CAAgBF,KAAhB,sBAAgBA,KAAhB,CACA,eAA4BK,yBAAQ,CAAC,EAAD,CAApC,mEAAOS,IAAP,eAAaC,WAAb,eACA,eAAwBV,yBAAQ,CAAC,EAAD,CAAhC,mEAAOW,IAAP,eAAaC,OAAb,eACA,GAAMC,QAAO,CAAGC,0CAAU,EAA1B,CACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAI,CAACN,IAAI,CAACO,MAAV,CAAkB,CAChBH,OAAO,CAACI,IAAR,CAAa,CACXC,QAAQ,YADG,CAEXC,KAAK,CAAE,CAAER,IAAI,CAAJA,IAAF,CAFI,CAAb,EAID,CALD,IAKO,CACLE,OAAO,CAACI,IAAR,CAAa,CACXC,QAAQ,YAAMT,IAAN,CADG,CAEXU,KAAK,CAAE,CAAER,IAAI,CAAJA,IAAF,CAFI,CAAb,EAID,CACF,CAZD,CAcA,mBACE,mCACE,KAAK,CAAE,CAAEd,MAAM,CAAEA,MAAV,CAAkBF,KAAK,CAAEA,KAAzB,CADT,CAEE,SAAS,CAAC,gCAFZ,wBAIE,kCAAK,SAAS,CAAC,0CAAf,mCAJF,cAOE,mCAAK,SAAS,CAAC,0DAAf,wBACE,oCACE,SAAS,CAAC,sGADZ,CAEE,EAAE,CAAC,SAFL,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAC,SAJR,CAKE,WAAW,CAAC,iBALd,CAME,OAAO,CAAC,UANV,CAOE,KAAK,CAAEgB,IAPT,CAQE,QAAQ,CAAE,kBAACS,KAAD,QAAWR,QAAO,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAlB,EARZ,EADF,cAWE,kCAAK,SAAS,CAAC,oCAAf,uBACE,qCACE,OAAO,CAAE,yBAAMP,YAAW,CAAC,EAAD,CAAjB,EADX,CAEE,SAAS,CAAC,kDAFZ,gCADF,EAXF,cAmBE,kCAAK,SAAS,CAAC,iCAAf,yFAnBF,cAuBE,oCACE,SAAS,CAAC,iGADZ,CAEE,EAAE,CAAC,SAFL,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAC,SAJR,CAKE,WAAW,CAAC,uBALd,CAME,OAAO,CAAC,UANV,CAOE,KAAK,CAAEN,IAPT,CAQE,QAAQ,CAAE,kBAACW,KAAD,QAAWV,YAAW,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EARZ,EAvBF,GAPF,cAyCE,kCAAK,SAAS,CAAC,+BAAf,uBACE,qCACE,OAAO,CAAE,yBAAMP,YAAW,CAACJ,IAAD,CAAjB,EADX,CAEE,SAAS,CAAC,kDAFZ,gCADF,EAzCF,cAiDE,mCAAK,SAAS,CAAC,kEAAf,wBACE,gCACE,IAAI,CAAC,yBADP,CAEE,SAAS,CAAC,gDAFZ,sDADF,cAOE,iCAAI,SAAS,CAAC,yBAAd,eAPF,cAQE,gCACE,IAAI,CAAC,0DADP,CAEE,SAAS,CAAC,gDAFZ,oDARF,GAjDF,GADF,CAmED,CAtFD,CAwFeJ,sDAAf,E;;;;;;;;;;;;;;;;;;;;;;;;AC9IA,GAAMgB,qBAAoB,CAAG,sBAA7B,CACA,GAAMC,sBAAqB,CAAG,uBAA9B,CACA,GAAMC,uBAAsB,CAAG,wBAA/B,CACA,GAAMC,2BAA0B,CAAG,4BAAnC,CACA,GAAMC,0BAAyB,CAAG,2BAAlC,CAEA,GAAMC,gBAAO,CAAG,QAAVA,QAAU,CAACC,MAAD,CAASlB,IAAT,CAAkB,CAChC,cAAgCX,yBAAQ,CAAC,EAAD,CAAxC,kEAAO8B,QAAP,eAAiBC,WAAjB,eACA,eAA0B/B,yBAAQ,CAAC,EAAD,CAAlC,mEAAOgC,KAAP,eAAcC,QAAd,eACA,eAAsCjC,yBAAQ,CAAC,EAAD,CAA9C,mEAAOkC,WAAP,eAAoBC,cAApB,eACA,eAAwBnC,yBAAQ,EAAhC,mEAAOoC,IAAP,eAAaC,OAAb,eACA,GAAMC,UAAS,CAAGC,uBAAM,EAAxB,CAEA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9B,GAAMC,OAAM,CAAG,CACb,gBADa,CAEb,iBAFa,CAGb,eAHa,CAIb,cAJa,CAKb,cALa,CAMb,eANa,CAOb,eAPa,CAQb,gBARa,CASb,eATa,CAUb,kBAVa,CAWb,iBAXa,CAAf,CAaA,MAAOA,OAAM,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBH,MAAM,CAACzB,MAAlC,CAAD,CAAb,CACD,CAfD,CAiBAb,0BAAS,CAAC,UAAM,CACd,GAAM0C,UAAS,CAAG,QAAZA,UAAY,EAAM,CACtBR,OAAO,CAAC,CAAE1B,IAAI,CAAJA,IAAF,CAAQmC,KAAK,CAAEN,iBAAiB,EAAhC,CAAD,CAAP,CACD,CAFD,CAGAK,SAAS,GACV,CALQ,CAKN,EALM,CAAT,CAOA1C,0BAAS,CAAC,UAAM,CACd,GAAM4C,WAAU,sHAAG,+KACMC,gBAAK,CAACC,GAAN,WAClBC,uBADkB,mBAC0BrB,MAD1B,WADN,QACXsB,QADW,eAIXC,MAJW,CAIFD,QAAQ,CAACE,IAAT,CAAcrB,KAJZ,CAKjBC,QAAQ,CAACmB,MAAD,CAAR,CALiB,sDAAH,kBAAVL,WAAU,0CAAhB,CAQAA,UAAU,GACX,CAVQ,CAUN,CAAClB,MAAD,CAVM,CAAT,CAYA1B,0BAAS,CAAC,UAAM,CACd,GAAMmD,cAAa,uHAAG,qLACGN,gBAAK,CAACC,GAAN,WAClBC,uBADkB,mBAC0BrB,MAD1B,cADH,QACdsB,QADc,gBAIdC,MAJc,CAILD,QAAQ,CAACE,IAAT,CAAcvB,QAJT,CAKpBC,WAAW,CAACqB,MAAD,CAAX,CALoB,wDAAH,kBAAbE,cAAa,2CAAnB,CAQAA,aAAa,GACd,CAVQ,CAUN,CAACzB,MAAD,CAVM,CAAT,CAYA1B,0BAAS,CAAC,UAAM,CACd,GAAI,CAACiC,IAAL,CAAW,CACT,OACD,CACDE,SAAS,CAACiB,OAAV,CAAoBC,eAAc,CAACN,uBAAD,CAAqC,CACrEO,KAAK,CAAE,CAAE5B,MAAM,CAANA,MAAF,CAAUlB,IAAI,CAAEyB,IAAI,CAACzB,IAArB,CAD8D,CAArC,CAAlC,CAIA2B,SAAS,CAACiB,OAAV,CAAkBG,EAAlB,CAAqB,SAArB,CAAgC,UAAM,CACpCC,OAAO,CAACC,GAAR,CAAYtB,SAAS,CAACiB,OAAV,CAAkBM,EAA9B,EACD,CAFD,EAIAvB,SAAS,CAACiB,OAAV,CAAkBG,EAAlB,CAAqBnC,oBAArB,CAA2C,SAACa,IAAD,CAAU,CACnD,GAAIA,IAAI,CAACyB,EAAL,aAAevB,SAAS,CAACiB,OAAV,CAAkBM,EAAjC,SAAsCzB,IAAI,CAACzB,IAA3C,CAAJ,CAAuD,OACvDsB,QAAQ,CAAC,SAACD,KAAD,+DAAeA,KAAf,GAAsBI,IAAtB,IAAD,CAAR,CACD,CAHD,EAKAE,SAAS,CAACiB,OAAV,CAAkBG,EAAlB,CAAqBlC,qBAArB,CAA4C,SAACY,IAAD,CAAU,CACpDH,QAAQ,CAAC,SAACD,KAAD,QAAWA,MAAK,CAAC8B,MAAN,CAAa,SAACC,CAAD,QAAOA,EAAC,CAACF,EAAF,GAASzB,IAAI,CAACyB,EAArB,EAAb,CAAX,EAAD,CAAR,CACD,CAFD,EAIAvB,SAAS,CAACiB,OAAV,CAAkBG,EAAlB,CAAqBjC,sBAArB,CAA6C,SAACuC,OAAD,CAAa,CACxD,GAAMC,gBAAe,sFAChBD,OADgB,MAEnBE,kBAAkB,CAChBF,OAAO,CAACG,QAAR,aAAwB7B,SAAS,CAACiB,OAAV,CAAkBM,EAA1C,SAA+CzB,IAAI,CAACzB,IAApD,CAHiB,EAArB,CAKAoB,WAAW,CAAC,SAACD,QAAD,+DAAkBA,QAAlB,GAA4BmC,eAA5B,IAAD,CAAX,CACD,CAPD,EASA3B,SAAS,CAACiB,OAAV,CAAkBG,EAAlB,CAAqBhC,0BAArB,CAAiD,SAAC0C,UAAD,CAAgB,CAC/D,GAAIA,UAAU,CAACD,QAAX,aAA2B7B,SAAS,CAACiB,OAAV,CAAkBM,EAA7C,SAAkDzB,IAAI,CAACzB,IAAvD,CAAJ,CAAmE,CACjE,GAAMyB,MAAI,CAAGgC,UAAU,CAAChC,IAAxB,CACAD,cAAc,CAAC,SAACH,KAAD,+DAAeA,KAAf,GAAsBI,KAAtB,IAAD,CAAd,CACD,CACF,CALD,EAOAE,SAAS,CAACiB,OAAV,CAAkBG,EAAlB,CAAqB/B,yBAArB,CAAgD,SAACyC,UAAD,CAAgB,CAC9D,GAAIA,UAAU,CAACD,QAAX,aAA2B7B,SAAS,CAACiB,OAAV,CAAkBM,EAA7C,SAAkDzB,IAAI,CAACzB,IAAvD,CAAJ,CAAmE,CACjE,GAAMyB,OAAI,CAAGgC,UAAU,CAAChC,IAAxB,CACAD,cAAc,CAAC,SAACH,KAAD,QAAWA,MAAK,CAAC8B,MAAN,CAAa,SAACC,CAAD,QAAOA,EAAC,CAACpD,IAAF,GAAWyB,MAAI,CAACzB,IAAvB,EAAb,CAAX,EAAD,CAAd,CACD,CACF,CALD,EAOA,MAAO,WAAM,CACX2B,SAAS,CAACiB,OAAV,CAAkBc,UAAlB,GACD,CAFD,CAGD,CA/CQ,CA+CN,CAACxC,MAAD,CAASO,IAAT,CA/CM,CAAT,CAiDA,GAAMkC,YAAW,CAAG,QAAdA,YAAc,CAACC,WAAD,CAAcC,MAAd,CAAyB,CAC3C,GAAI,CAAClC,SAAS,CAACiB,OAAf,CAAwB,OACxB,GAAIiB,MAAM,GAAK,IAAf,CAAqB,CACnBlC,SAAS,CAACiB,OAAV,CAAkBkB,IAAlB,CAAuBhD,sBAAvB,CAA+C,CAC7CiD,IAAI,CAAEH,WADuC,CAE7CJ,QAAQ,CAAE7B,SAAS,CAACiB,OAAV,CAAkBM,EAFiB,CAG7ClD,IAAI,CAAEyB,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEzB,IAHiC,CAI7C6D,MAAM,CAAEA,MAJqC,CAA/C,EAMD,CAPD,IAOO,CACLlC,SAAS,CAACiB,OAAV,CAAkBkB,IAAlB,CAAuBhD,sBAAvB,CAA+C,CAC7CiD,IAAI,CAAEH,WADuC,CAE7CJ,QAAQ,WAAK7B,SAAS,CAACiB,OAAV,CAAkBM,EAAvB,SAA4BzB,IAAI,CAACzB,IAAjC,CAFqC,CAG7CyB,IAAI,CAAEA,IAHuC,CAI7CzB,IAAI,CAAEyB,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEzB,IAJiC,CAK7CmC,KAAK,CAAEV,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEU,KALgC,CAM7C0B,MAAM,CAAEA,MANqC,CAA/C,EAQD,CACF,CAnBD,CAqBA,GAAMG,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CAC/B,GAAI,CAACrC,SAAS,CAACiB,OAAf,CAAwB,OACxBjB,SAAS,CAACiB,OAAV,CAAkBkB,IAAlB,CAAuB/C,0BAAvB,CAAmD,CACjDyC,QAAQ,CAAE7B,SAAS,CAACiB,OAAV,CAAkBM,EADqB,CAEjDzB,IAAI,CAAJA,IAFiD,CAAnD,EAID,CAND,CAQA,GAAMwC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9B,GAAI,CAACtC,SAAS,CAACiB,OAAf,CAAwB,OACxBjB,SAAS,CAACiB,OAAV,CAAkBkB,IAAlB,CAAuB9C,yBAAvB,CAAkD,CAChDwC,QAAQ,CAAE7B,SAAS,CAACiB,OAAV,CAAkBM,EADoB,CAEhDzB,IAAI,CAAJA,IAFgD,CAAlD,EAID,CAND,CAQA,GAAMyC,QAAO,CAAG,QAAVA,QAAU,CAAClE,IAAD,CAAU,CACxB,GAAMyB,KAAI,CAAG,CAAEzB,IAAI,CAAJA,IAAF,CAAb,CACAsB,QAAQ,CAAC,SAACD,KAAD,+DAAeA,KAAf,GAAsBI,IAAtB,IAAD,CAAR,CACD,CAHD,CAKA,MAAO,CACLN,QAAQ,CAARA,QADK,CAELM,IAAI,CAAJA,IAFK,CAGLJ,KAAK,CAALA,KAHK,CAILE,WAAW,CAAXA,WAJK,CAKLoC,WAAW,CAAXA,WALK,CAMLK,kBAAkB,CAAlBA,kBANK,CAOLC,iBAAiB,CAAjBA,iBAPK,CAQLC,OAAO,CAAPA,OARK,CAAP,CAUD,CA5JD,CA8JejD,+DAAf,E;;ACtKA,GAAMkD,oBAAS,CAAG,QAAZA,UAAY,EAAM,CACtB,cAAgC9E,yBAAQ,CAAC,KAAD,CAAxC,kEAAO+E,QAAP,eAAiBC,WAAjB,eACA,eAAwChF,yBAAQ,CAAC,KAAD,CAAhD,mEAAOiF,YAAP,eAAqBC,eAArB,eACA,eAAkClF,yBAAQ,CAAC,CAAD,CAA1C,mEAAOmF,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBH,eAAe,CAAC,IAAD,CAAf,CACAE,YAAY,CAAC,CAAD,CAAZ,CACAJ,WAAW,CAAC,IAAD,CAAX,CACD,CAJD,CAMA,GAAMM,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBJ,eAAe,CAAC,KAAD,CAAf,CACD,CAFD,CAIA,GAAMK,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBH,YAAY,CAAC,CAAD,CAAZ,CACD,CAFD,CAIAjF,0BAAS,CAAC,UAAM,CACd,GAAIqF,SAAJ,CACA,GAAI,CAACP,YAAL,CAAmB,CACjBO,QAAQ,CAAGC,WAAW,CAAC,UAAM,CAC3BL,YAAY,CAAC,SAACM,CAAD,QAAOA,EAAC,CAAG,CAAX,EAAD,CAAZ,CACD,CAFqB,CAEnB,IAFmB,CAAtB,CAGD,CAJD,IAIO,IAAIT,YAAY,EAAIE,SAAS,GAAK,CAAlC,CAAqC,CAC1CQ,aAAa,CAACH,QAAD,CAAb,CACD,CAED,GAAIL,SAAS,GAAK,CAAlB,CAAqB,CACnBH,WAAW,CAAC,KAAD,CAAX,CACD,CAED,MAAO,kBAAMW,cAAa,CAACH,QAAD,CAAnB,EAAP,CACD,CAfQ,CAeN,CAACP,YAAD,CAAeE,SAAf,CAfM,CAAT,CAiBA,MAAO,CAAEJ,QAAQ,CAARA,QAAF,CAAYM,WAAW,CAAXA,WAAZ,CAAyBC,UAAU,CAAVA,UAAzB,CAAqCC,YAAY,CAAZA,YAArC,CAAP,CACD,CArCD,CAuCeT,qEAAf,E;;ACnCO,GAAM7F,WAAK,CAAGC,6CAAE,CAACC,KAAH,CAAQ,8wBAAR,CAAd,CAeA,GAAMC,mBAAa,CAAGF,qDAAE,CAACD,UAAD,CAAF,CAAS,mEAAT,CAAtB,CAEP,GAAMQ,yBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,YAAmDC,MAAnD,CAAoBC,KAApB,SAAQC,UAAR,CAAwCC,MAAxC,SAA2BC,WAA3B,CACA,MAAO,CACLH,KAAK,CAALA,KADK,CAELE,MAAM,CAANA,MAFK,CAAP,CAID,CAND,CAQA,GAAME,yBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,cAAgDC,yBAAQ,CACtDP,wBAAmB,EADmC,CAAxD,kEAAOQ,gBAAP,eAAyBC,mBAAzB,eAIAC,0BAAS,CAAC,UAAM,CACd,QAASC,aAAT,EAAwB,CACtBF,mBAAmB,CAACT,wBAAmB,EAApB,CAAnB,CACD,CAEDC,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCD,YAAlC,EACA,MAAO,kBAAMV,OAAM,CAACY,mBAAP,CAA2B,QAA3B,CAAqCF,YAArC,CAAN,EAAP,CACD,CAPQ,CAON,EAPM,CAAT,CASA,MAAOH,iBAAP,CACD,CAfD,CAiBA,GAAM2F,UAAI,CAAG,QAAPA,KAAO,CAACpF,KAAD,CAAW,CACtB,GAAQqB,OAAR,CAAyBrB,KAAzB,CAAQqB,MAAR,CAAgBlB,IAAhB,CAAyBH,KAAzB,CAAgBG,IAAhB,CACA,eAA4DmE,aAAS,EAArE,CAAQC,QAAR,YAAQA,QAAR,CAAkBM,WAAlB,YAAkBA,WAAlB,CAA+BC,UAA/B,YAA+BA,UAA/B,CAA2CC,YAA3C,YAA2CA,YAA3C,CACA,yBAA0BxF,wBAAmB,EAA7C,CAAQF,MAAR,sBAAQA,MAAR,CAAgBF,KAAhB,sBAAgBA,KAAhB,CACA,eAAoCK,yBAAQ,CAAC,EAAD,CAA5C,mEAAO6F,UAAP,eAAmBC,aAAnB,eACA,eAA4B9F,yBAAQ,CAAC,EAAD,CAApC,mEAAO+F,MAAP,eAAeC,SAAf,eACA,eAAsBhG,yBAAQ,CAAC,EAAD,CAA9B,mEAAOiG,GAAP,eAAYC,MAAZ,eACA,eAA0BlG,yBAAQ,CAAC,EAAD,CAAlC,oEAAOmG,KAAP,gBAAcC,QAAd,gBACA,gBAA0BpG,yBAAQ,CAAC,EAAD,CAAlC,qEAAOqG,KAAP,gBAAcC,QAAd,gBACA,GAAMC,WAAU,CAAGhE,uBAAM,EAAzB,CACA,gBAAkCvC,yBAAQ,CAAC,KAAD,CAA1C,qEAAOwG,SAAP,gBAAkBC,YAAlB,gBACA,aASI7E,WAAO,CAACC,MAAD,CAASlB,IAAT,CATX,CACEmB,QADF,UACEA,QADF,CAEEM,IAFF,UAEEA,IAFF,CAGEJ,KAHF,UAGEA,KAHF,CAIEE,WAJF,UAIEA,WAJF,CAKEoC,WALF,UAKEA,WALF,CAMEK,kBANF,UAMEA,kBANF,CAOEC,iBAPF,UAOEA,iBAPF,CAQEC,OARF,UAQEA,OARF,CAWA,GAAM6B,uBAAsB,CAAG,QAAzBA,uBAAyB,CAACtF,KAAD,CAAW,CACxC0E,aAAa,CAAC1E,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb,CACD,CAFD,CAIA,GAAMqF,kBAAiB,CAAG,QAApBA,kBAAoB,CAACvF,KAAD,CAAW,CACnCA,KAAK,CAACwF,cAAN,GACArB,YAAY,GACZ,GAAIM,UAAU,GAAK,EAAnB,CAAuB,CACrBvB,WAAW,CAACuB,UAAD,CAAa,KAAb,CAAX,CACAC,aAAa,CAAC,EAAD,CAAb,CACD,CACF,CAPD,CASA,GAAMe,YAAW,CAAG,QAAdA,YAAc,CAACzF,KAAD,CAAW,CAC7B,GAAIA,KAAK,CAAC0F,GAAN,GAAc,OAAlB,CAA2B,CACzB,GAAIjB,UAAU,GAAK,EAAnB,CAAuB,CACrBvB,WAAW,CAACuB,UAAD,CAAa,KAAb,CAAX,CACAC,aAAa,CAAC,EAAD,CAAb,CACD,CACF,CACF,CAPD,CASA,GAAMiB,kBAAiB,CAAG,QAApBA,kBAAoB,CAAC3E,IAAD,CAAO4E,SAAP,CAAqB,CAC7C,GAAIC,SAAQ,CAAG,EAAf,CACA,GAAI7E,IAAI,CAACA,IAAL,CAAUzB,IAAd,CAAoB,CAClB,GAAIyB,IAAI,CAACA,IAAL,CAAU8E,KAAd,CAAqB,CACnBD,QAAQ,CAAG7E,IAAI,CAACA,IAAL,CAAU8E,KAAV,CAAkB,GAAlB,CAAwB9E,IAAI,CAACA,IAAL,CAAUzB,IAAlC,CAAyC,GAAzC,CAA+CyB,IAAI,CAAC+E,MAA/D,CACD,CAFD,IAEO,CACLF,QAAQ,CAAG7E,IAAI,CAACA,IAAL,CAAUzB,IAAV,CAAiB,GAAjB,CAAuByB,IAAI,CAAC+E,MAAvC,CACD,CACDH,SAAS,CAACC,QAAD,CAAT,CACD,CACF,CAVD,CAYA,GAAMzE,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC9BC,MAAM,CAAG,CACP,gBADO,CAEP,iBAFO,CAGP,eAHO,CAIP,cAJO,CAKP,eALO,CAMP,iBANO,CAAT,CAQA,MAAOA,OAAM,CAACC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBH,MAAM,CAACzB,MAAlC,CAAD,CAAb,CACD,CAVD,CAYAb,0BAAS,CAAC,iBAAMoG,WAAU,CAAChD,OAAX,CAAmB6D,cAAnB,CAAkC,CAAEC,QAAQ,CAAE,QAAZ,CAAlC,CAAN,EAAD,CAAT,CAEAlH,0BAAS,CAAC,UAAM,CACd,GAAI,CAACqG,SAAL,CAAgB,CACd,GAAIc,OAAJ,CACAzF,MAAM,GAAK,UAAX,CACKyF,MAAM,CAAG,GAAIC,YAAJ,WACLrE,uBADK,iCACqDrB,MADrD,EADd,CAIKyF,MAAM,CAAG,GAAIC,YAAJ,WACLrE,uBADK,eAJd,CAOA,GAAIrB,MAAM,GAAK,UAAf,CAA2B,CACzByF,MAAM,CAACE,SAAP,CAAmB,SAACpG,KAAD,CAAW,CAC5B,GAAMqG,WAAU,CAAGC,IAAI,CAACC,KAAL,CAAWvG,KAAK,CAACiC,IAAjB,CAAnB,CACA;AACA6C,MAAM,CAAC,CAACuB,UAAU,CAACG,GAAZ,CAAD,CAAN,CACA,GAAIH,UAAU,CAAC5D,EAAf,CAAmB,CACjBmC,SAAS,CAACyB,UAAU,CAAC5D,EAAZ,CAAT,CACD,CACF,CAPD,CAQD,CATD,IASO,CACLyD,MAAM,CAACE,SAAP,CAAmB,SAACpG,KAAD,CAAW,CAC5B,GAAMqG,WAAU,CAAGC,IAAI,CAACC,KAAL,CAAWvG,KAAK,CAACiC,IAAjB,CAAnB,CACAM,OAAO,CAACC,GAAR,CAAYxC,KAAK,CAACiC,IAAlB,EACA6C,MAAM,CAAC,CAACuB,UAAU,CAACI,CAAX,CAAaD,GAAd,CAAD,CAAN,CACA,GAAIH,UAAU,CAACI,CAAX,CAAaC,OAAjB,CAA0B,CACxBf,iBAAiB,CAACU,UAAU,CAACI,CAAX,CAAaC,OAAb,CAAqB,CAArB,CAAD,CAA0BxB,QAA1B,CAAjB,CACAS,iBAAiB,CAACU,UAAU,CAACI,CAAX,CAAaC,OAAb,CAAqB,CAArB,CAAD,CAA0B1B,QAA1B,CAAjB,CACD,CACD,GAAIqB,UAAU,CAACI,CAAX,CAAahE,EAAjB,CAAqB,CACnBmC,SAAS,CAACyB,UAAU,CAACI,CAAX,CAAahE,EAAd,CAAT,CACD,CACF,CAXD,CAYD,CACD4C,YAAY,CAAC,IAAD,CAAZ,CACD,CACF,CAnCQ,CAmCN,CAACD,SAAD,CAAYP,GAAZ,CAnCM,CAAT,CAqCA9F,0BAAS,CAAC,UAAM,CACd,GAAI4E,QAAJ,CAAcJ,kBAAkB,GAAhC,IACKC,kBAAiB,GACvB,CAHQ,CAGN,CAACG,QAAD,CAHM,CAAT,CAKA,mBACE,kCACE,KAAK,CAAE,CAAElF,MAAM,CAAEA,MAAV,CAAkBF,KAAK,CAAEA,KAAzB,CADT,CAEE,SAAS,CAAC,kCAFZ,uBAIE,mCAAK,SAAS,CAAC,8EAAf,wBACE,gCAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,iEAAtB,uBACE,kCACE,KAAK,CAAC,4BADR,CAEE,SAAS,CAAC,oCAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,OAAO,CAAC,WAJV,CAKE,MAAM,CAAC,cALT,uBAOE,mCACE,aAAa,CAAC,OADhB,CAEE,cAAc,CAAC,OAFjB,CAGE,WAAW,CAAE,CAHf,CAIE,CAAC,CAAC,kJAJJ,EAPF,EADF,EADF,cAiBE,mCAAK,SAAS,CAAC,wCAAf,wBACE,mCAAK,SAAS,CAAC,cAAf,wBACE,mCAAK,SAAS,CAAC,uBAAf,wBACE,iCAAI,SAAS,CAAC,oCAAd,mBADF,cAEE,iCACE,IAAI,+BAAyBoG,MAAzB,CADN,CAEE,SAAS,CAAC,+BAFZ,0BAIeA,MAJf,GAFF,GADF,cAUE,kCAAI,SAAS,CAAC,0CAAd,oBACSlE,MADT,GAVF,GADF,cAeE,mCAAK,SAAS,CAAC,qGAAf,mBACQoE,GADR,GAfF,cAkBE,mCAAK,SAAS,CAAC,QAAf,wBACE,kCAAK,SAAS,CAAC,iDAAf,UACGE,KADH,EADF,cAIE,kCAAK,SAAS,CAAC,QAAf,uBACE,2BAAC,wBAAD,EACE,QAAQ,CAAEF,GAAG,CAAC,CAAD,CADf,CAEE,kBAAkB,CAAE,GAFtB,CAGE,YAAY,CAAE,KAHhB,CAIE,SAAS,CAAE,mBAAC8B,IAAD,QACTA,KAAI,CAACC,WAAL,CAAmB,IAAnB,CACKD,IAAI,CAACE,YAAL,CAAoB,GAArB,CAA4B,EADhC,CAEIF,IAAI,CAACC,WAAL,CAAmB,IAAnB,CACCD,IAAI,CAACE,YAAL,CAAoB,GAArB,CAA4B,EAD5B,CAECC,MAAM,CAACvI,KAAP,CAAe,GAAhB,CAAuB,GALlB,EAJb,EADF,EAJF,cAkBE,mCAAK,SAAS,CAAC,iDAAf,WACG,GADH,CAEG0G,KAFH,GAlBF,GAlBF,GAjBF,cA2DE,kCAAK,SAAS,CAAC,2GAAf,uBACE,mCAAK,SAAS,CAAC,kCAAf,wBACE,4EACE,0CACGvE,QAAQ,CAACqG,GAAT,CAAa,SAACnE,OAAD,CAAUoE,CAAV,qBACZ,0CACGpE,OAAO,CAACQ,MAAR,GAAmB,IAAnB,cACC,kCAAK,SAAS,CAAC,mCAAf,UACGR,OAAO,CAACU,IADX,EADD,cAKC,oCAAM,SAAS,CAAC,mCAAhB,WACGV,OAAO,CAACrD,IAAR,cACC,mCAAK,SAAS,qBAAeqD,OAAO,CAAC5B,IAAR,CAAaU,KAA5B,SAAd,WACGkB,OAAO,CAACrD,IADX,OADD,cAKC,6DAAG,EAAH,EANJ,CAQGqD,OAAO,CAACU,IARX,GANJ,EAAS0D,CAAT,CADY,EAAb,CADH,EADF,cAuBE,mCAAK,SAAS,CAAC,yCAAf,wBACE,oCACE,SAAS,CAAC,0GADZ,CAEE,EAAE,CAAC,SAFL,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAC,SAJR,CAKE,WAAW,CAAC,oBALd,CAME,OAAO,CAAC,UANV,CAOE,KAAK,CAAEvC,UAPT,CAQE,QAAQ,CAAEa,sBARZ,CASE,OAAO,CAAEG,WATX,EADF,cAYE,qCACE,SAAS,CAAC,0HADZ,CAEE,QAAQ,CAAE,CAAChB,UAFb,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,SAJR,CAKE,OAAO,CAAEc,iBALX,kBAZF,GAvBF,GADF,cA+CE,kCAAK,GAAG,CAAEJ,UAAV,EA/CF,GADF,EA3DF,GAJF,EADF,CAsHD,CAtOD,CAwOeX,sDAAf,E;;AClRO,GAAM3G,eAAK,CAAGC,6CAAE,CAACC,KAAH,CAAQ,8wBAAR,CAAd,CAeA,GAAMC,uBAAa,CAAGF,qDAAE,CAACD,cAAD,CAAF,CAAS,mEAAT,CAAtB,CAEA,GAAMI,uBAAa,CAAG,QAAhBA,cAAgB,MAA2C,yBAAxCC,SAAwC,CAAxCA,SAAwC,yBAA5B,EAA4B,gBAAxBC,QAAwB,MAAxBA,QAAwB,CAAXC,IAAW,mFACtE,mBACE,2BAAC,eAAD,oFACE,SAAS,iDADX,EAEMA,IAFN,MAGE,cAAY,KAHd,UAKGD,QALH,GADF,CASD,CAVM,CAYA,GAAM8I,gBAAM,CAAG,QAATA,OAAS,OAA2C,2BAAxC/I,SAAwC,CAAxCA,SAAwC,0BAA5B,EAA4B,iBAAxBC,QAAwB,OAAxBA,QAAwB,CAAXC,IAAW,oFAC/D,mBACE,uHACE,SAAS,8FADX,EAEMA,IAFN,MAGE,cAAY,KAHd,UAKGD,QALH,GADF,CASD,CAVM,CAYP,GAAME,6BAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,YAAmDC,MAAnD,CAAoBC,KAApB,SAAQC,UAAR,CAAwCC,MAAxC,SAA2BC,WAA3B,CACA,MAAO,CACLH,KAAK,CAALA,KADK,CAELE,MAAM,CAANA,MAFK,CAAP,CAID,CAND,CAQA,GAAME,6BAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,cAAgDC,yBAAQ,CACtDP,4BAAmB,EADmC,CAAxD,kEAAOQ,gBAAP,eAAyBC,mBAAzB,eAIAC,0BAAS,CAAC,UAAM,CACd,QAASC,aAAT,EAAwB,CACtBF,mBAAmB,CAACT,4BAAmB,EAApB,CAAnB,CACD,CAEDC,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCD,YAAlC,EACA,MAAO,kBAAMV,OAAM,CAACY,mBAAP,CAA2B,QAA3B,CAAqCF,YAArC,CAAN,EAAP,CACD,CAPQ,CAON,EAPM,CAAT,CASA,MAAOH,iBAAP,CACD,CAfD,CAiBA,GAAMqI,kBAAQ,CAAG,QAAXA,SAAW,CAAC9H,KAAD,CAAW,CAC1B,GAAQqB,OAAR,CAAiCrB,KAAjC,CAAQqB,MAAR,CAAgB0G,YAAhB,CAAiC/H,KAAjC,CAAgB+H,YAAhB,CACA,eAAwBvI,yBAAQ,CAAC,EAAD,CAAhC,mEAAOW,IAAP,eAAaC,OAAb,eACA,eAA4DkE,aAAS,EAArE,CAAQC,QAAR,YAAQA,QAAR,CAAkBM,WAAlB,YAAkBA,WAAlB,CAA+BC,UAA/B,YAA+BA,UAA/B,CAA2CC,YAA3C,YAA2CA,YAA3C,CACA,yBAA0BxF,4BAAmB,EAA7C,CAAQF,MAAR,sBAAQA,MAAR,CAAgBF,KAAhB,sBAAgBA,KAAhB,CACA,eAAoCK,yBAAQ,CAAC,EAAD,CAA5C,mEAAO6F,UAAP,eAAmBC,aAAnB,eACA,eAAsB9F,yBAAQ,CAAC,EAAD,CAA9B,mEAAOiG,GAAP,eAAYC,MAAZ,eACA,eAA0BlG,yBAAQ,CAAC,EAAD,CAAlC,oEAAOmG,KAAP,gBAAcC,QAAd,gBACA,gBAA0BpG,yBAAQ,CAAC,EAAD,CAAlC,qEAAOqG,KAAP,gBAAcC,QAAd,gBACA,gBAAgCtG,yBAAQ,CAAC,EAAD,CAAxC,qEAAOwI,QAAP,gBAAiBC,WAAjB,gBACA,GAAMlC,WAAU,CAAGhE,uBAAM,EAAzB,CACA,gBAAkCvC,yBAAQ,CAAC,KAAD,CAA1C,qEAAOwG,SAAP,gBAAkBC,YAAlB,gBACA,aASI7E,WAAO,CAACC,MAAD,CAASlB,IAAT,CATX,CACEmB,QADF,UACEA,QADF,CAEEM,IAFF,UAEEA,IAFF,CAGEJ,KAHF,UAGEA,KAHF,CAIEE,WAJF,UAIEA,WAJF,CAKEoC,WALF,UAKEA,WALF,CAMEK,kBANF,UAMEA,kBANF,CAOEC,iBAPF,UAOEA,iBAPF,CAQEC,OARF,UAQEA,OARF,CAWA,GAAMgC,YAAW,CAAG,QAAdA,YAAc,CAACzF,KAAD,CAAW,CAC7B,GAAIA,KAAK,CAAC0F,GAAN,GAAc,OAAlB,CAA2B,CACzB,GAAIjB,UAAU,GAAK,EAAnB,CAAuB,CACrBvB,WAAW,CAACuB,UAAD,CAAa,KAAb,CAAX,CACAC,aAAa,CAAC,EAAD,CAAb,CACD,CACF,CACF,CAPD,CASA,GAAMiB,kBAAiB,CAAG,QAApBA,kBAAoB,CAAC3E,IAAD,CAAO4E,SAAP,CAAqB,CAC7C,GAAIC,SAAQ,CAAG,EAAf,CACA,GAAI7E,IAAI,CAACA,IAAL,CAAUzB,IAAd,CAAoB,CAClB,GAAIyB,IAAI,CAACA,IAAL,CAAU8E,KAAd,CAAqB,CACnBD,QAAQ,CAAG7E,IAAI,CAACA,IAAL,CAAU8E,KAAV,CAAkB,GAAlB,CAAwB9E,IAAI,CAACA,IAAL,CAAUzB,IAAlC,CAAyC,GAAzC,CAA+CyB,IAAI,CAAC+E,MAA/D,CACD,CAFD,IAEO,CACLF,QAAQ,CAAG7E,IAAI,CAACA,IAAL,CAAUzB,IAAV,CAAiB,GAAjB,CAAuByB,IAAI,CAAC+E,MAAvC,CACD,CACDH,SAAS,CAACC,QAAD,CAAT,CACD,CACF,CAVD,CAYA9G,0BAAS,CAAC,iBAAMoG,WAAU,CAAChD,OAAX,CAAmB6D,cAAnB,CAAkC,CAAEC,QAAQ,CAAE,QAAZ,CAAlC,CAAN,EAAD,CAAT,CAEAlH,0BAAS,CAAC,UAAM,CACd,GAAI,CAACqG,SAAL,CAAgB,CACd,GAAIc,OAAJ,CACAzF,MAAM,GAAK,UAAX,CACKyF,MAAM,CAAG,GAAIC,YAAJ,WACLrE,uBADK,iCACqDrB,MADrD,EADd,CAIKyF,MAAM,CAAG,GAAIC,YAAJ,WACLrE,uBADK,eAJd,CAOA,GAAIrB,MAAM,GAAK,UAAf,CAA2B,CACzByF,MAAM,CAACE,SAAP,CAAmB,SAACpG,KAAD,CAAW,CAC5B,GAAMqG,WAAU,CAAGC,IAAI,CAACC,KAAL,CAAWvG,KAAK,CAACiC,IAAjB,CAAnB,CACAM,OAAO,CAACC,GAAR,CAAYxC,KAAK,CAACiC,IAAlB,EACA6C,MAAM,CAAC,CAACuB,UAAU,CAACG,GAAZ,CAAD,CAAN,CACD,CAJD,CAKD,CAND,IAMO,CACLN,MAAM,CAACE,SAAP,CAAmB,SAACpG,KAAD,CAAW,CAC5B,GAAMqG,WAAU,CAAGC,IAAI,CAACC,KAAL,CAAWvG,KAAK,CAACiC,IAAjB,CAAnB,CACAM,OAAO,CAACC,GAAR,CAAYxC,KAAK,CAACiC,IAAlB,EACA6C,MAAM,CAAC,CAACuB,UAAU,CAACI,CAAX,CAAaD,GAAd,CAAD,CAAN,CACA,GAAIH,UAAU,CAACI,CAAX,CAAaC,OAAjB,CAA0B,CACxBf,iBAAiB,CAACU,UAAU,CAACI,CAAX,CAAaC,OAAb,CAAqB,CAArB,CAAD,CAA0BxB,QAA1B,CAAjB,CACAS,iBAAiB,CAACU,UAAU,CAACI,CAAX,CAAaC,OAAb,CAAqB,CAArB,CAAD,CAA0B1B,QAA1B,CAAjB,CACD,CACF,CARD,CASD,CACDK,YAAY,CAAC,IAAD,CAAZ,CACD,CACF,CA7BQ,CA6BN,CAACD,SAAD,CAAYP,GAAZ,CA7BM,CAAT,CA+BA,mBACE,kCACE,KAAK,CAAE,CAAEpG,MAAM,CAAEA,MAAV,CAAkBF,KAAK,CAAEA,KAAzB,CADT,CAEE,SAAS,CAAC,kCAFZ,uBAIE,mCAAK,SAAS,CAAC,8EAAf,wBACE,mCAAK,SAAS,CAAC,mCAAf,wBACE,mCAAK,SAAS,CAAC,wEAAf,mBACQsG,GADR,GADF,cAIE,mCAAK,SAAS,CAAC,QAAf,wBACE,kCAAK,SAAS,CAAC,iDAAf,UACGE,KADH,EADF,cAIE,kCAAK,SAAS,CAAC,QAAf,uBACE,2BAAC,wBAAD,EACE,QAAQ,CAAEF,GAAG,CAAC,CAAD,CADf,CAEE,kBAAkB,CAAE,GAFtB,CAGE,YAAY,CAAE,KAHhB,CAIE,SAAS,CAAE,mBAAC8B,IAAD,QACTA,KAAI,CAACC,WAAL,CAAmB,IAAnB,CACKD,IAAI,CAACE,YAAL,CAAoB,GAArB,CAA4B,EADhC,CAEIF,IAAI,CAACC,WAAL,CAAmB,IAAnB,CACCD,IAAI,CAACE,YAAL,CAAoB,GAArB,CAA4B,EAD5B,CAECC,MAAM,CAACvI,KAAP,CAAe,GAAhB,CAAuB,GALlB,EAJb,EADF,EAJF,cAkBE,mCAAK,SAAS,CAAC,iDAAf,WACG,GADH,CAEG0G,KAFH,GAlBF,GAJF,GADF,cA6BE,kCAAK,SAAS,CAAC,2GAAf,uBACE,mCAAK,SAAS,CAAC,kCAAf,wBACE,kCAAI,SAAS,CAAC,SAAd,oBAA+BxE,MAA/B,GADF,cAGE,mCAAK,SAAS,CAAC,iBAAf,wBACE,kCAAK,SAAS,CAAC,+CAAf,gDADF,cAIE,wDACE,kCAAK,SAAS,CAAC,2CAAf,uBACE,oCACE,SAAS,CAAC,iGADZ,CAEE,EAAE,CAAC,SAFL,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAC,SAJR,CAKE,WAAW,CAAC,gBALd,CAME,OAAO,CAAC,UANV,CAOE,KAAK,CAAE2G,QAPT,CAQE,QAAQ,CAAE,kBAACpH,KAAD,QAAWqH,YAAW,CAACrH,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EARZ,EADF,EADF,EAJF,cAkBE,qCACE,SAAS,CAAC,wHADZ,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,SAHR,CAIE,OAAO,CAAE,kBAAM,CACbV,OAAO,CAAC4H,QAAD,CAAP,CACAD,YAAY,CAACC,QAAD,CAAZ,CACA3D,OAAO,CAAC2D,QAAD,CAAP,CACD,CARH,uBAlBF,GAHF,cAkCE,kCAAK,GAAG,CAAEjC,UAAV,EAlCF,GADF,EA7BF,GAJF,EADF,CA2ED,CAxJD,CA0Je+B,kEAAf,E;;AC9NA,GAAM7I,yBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,YAAmDC,MAAnD,CAAoBC,KAApB,SAAQC,UAAR,CAAwCC,MAAxC,SAA2BC,WAA3B,CACA,MAAO,CACLH,KAAK,CAALA,KADK,CAELE,MAAM,CAANA,MAFK,CAAP,CAID,CAND,CAQA,GAAME,yBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAChC,cAAgDC,yBAAQ,CACtDP,wBAAmB,EADmC,CAAxD,kEAAOQ,gBAAP,eAAyBC,mBAAzB,eAIAC,0BAAS,CAAC,UAAM,CACd,QAASC,aAAT,EAAwB,CACtBF,mBAAmB,CAACT,wBAAmB,EAApB,CAAnB,CACD,CAEDC,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCD,YAAlC,EACA,MAAO,kBAAMV,OAAM,CAACY,mBAAP,CAA2B,QAA3B,CAAqCF,YAArC,CAAN,EAAP,CACD,CAPQ,CAON,EAPM,CAAT,CASA,MAAOH,iBAAP,CACD,CAfD,CAiBA,GAAMyI,UAAI,CAAG,QAAPA,KAAO,CAAClI,KAAD,CAAW,2BACtB,yBAA0BT,wBAAmB,EAA7C,CAAQF,MAAR,sBAAQA,MAAR,CAAgBF,KAAhB,sBAAgBA,KAAhB,CACA,GAAQkC,OAAR,CAAmBrB,KAAK,CAACmI,KAAN,CAAYC,MAA/B,CAAQ/G,MAAR,CACA,eAAwB7B,yBAAQ,wBAACQ,KAAK,CAACqI,QAAN,CAAe1H,KAAhB,gDAAC,sBAAsBR,IAAvB,CAAhC,mEAAOA,IAAP,eAAaC,OAAb,eAEA,GAAMkI,WAAU,CAAG,QAAbA,WAAa,CAACnI,IAAD,CAAU,CAC3BC,OAAO,CAACD,IAAD,CAAP,CACD,CAFD,CAGA,mBACE,kCACE,KAAK,CAAE,CAAEd,MAAM,CAAEA,MAAV,CAAkBF,KAAK,CAAEA,KAAzB,CADT,CAEE,SAAS,CAAC,2CAFZ,UAIGgB,IAAI,cACH,2BAAC,QAAD,EAAM,IAAI,CAAEA,IAAZ,CAAkB,MAAM,CAAEkB,MAA1B,EADG,cAGH,2BAAC,YAAD,EAAU,MAAM,CAAEA,MAAlB,CAA0B,YAAY,CAAEiH,UAAxC,EAPJ,EADF,CAYD,CApBD,CAsBeJ,sDAAf,E;;AC7CA,QAASK,IAAT,EAAe,CACb,mBACE,2BAAC,yCAAD,wBACE,4BAAC,8BAAD,yBACE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAExI,QAAjC,EADF,cAEE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,CAA6B,SAAS,CAAEmI,QAAxC,EAFF,GADF,EADF,CAQD,CAEcK,+CAAf,E;;ACjBA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,WAAD,CAAiB,CACvC,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,kFAAqBC,IAArB,CAA0B,cAAiD,IAA9CC,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,MAAM,CAACN,WAAD,CAAN,CACAO,OAAO,CAACP,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACNAS,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAZ,mBAAe,G;;;;;;;AChBf,uC","file":"x","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport tw from \"twin.macro\";\n\nexport const Input = tw.input`\n  px-4\n  py-2\n  placeholder-gray-500\n  w-auto\n  lg:mx-auto\n  focus:ring-primary-100\n  focus:border-primary-500\n  border-gray-400\n  border-width[1px]\n  border-solid\n  rounded-md\n  shadow-xs\n`;\n\nexport const InputTextLeft = tw(Input)`text-left py-2`;\n\nexport const PrimaryButton = ({ className = \"\", children, ...rest }) => {\n  return (\n    <Button\n      className={`bg-primary-500 hover:bg-primary-300 text-white`}\n      {...rest}\n      data-testid=\"btn\"\n    >\n      {children}\n    </Button>\n  );\n};\n\nconst getWindowDimensions = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n};\n\nconst useWindowDimensions = () => {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n};\n\nconst Home = (props) => {\n  const { height, width } = useWindowDimensions();\n  const [room, setRoomName] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const history = useHistory();\n  const handleClick = () => {\n    if (!room.length) {\n      history.push({\n        pathname: `/featured`,\n        state: { name },\n      });\n    } else {\n      history.push({\n        pathname: `/${room}`,\n        state: { name },\n      });\n    }\n  };\n\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"bg-black overflow-hidden fixed\"\n    >\n      <div className=\"text-white text-2xl text-center p-2 pb-6\">\n        lichessTV watch party\n      </div>\n      <div className=\"xl:w-full w-80 overflow-hidden p-4 m-auto md:pt-20 pt-10\">\n        <input\n          className=\"w-full h-10 pl-3 mb-4 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\"\n          id=\"message\"\n          type=\"text\"\n          label=\"Message\"\n          placeholder=\"create username\"\n          variant=\"outlined\"\n          value={name}\n          onChange={(event) => setName(event.target.value)}\n        />\n        <div className=\"m-auto text-center text-white mb-8\">\n          <button\n            onClick={() => handleClick(\"\")}\n            className=\"border-white border-1 px-20 py-4 mt-4 rounded-lg\"\n          >\n            join featured room\n          </button>\n        </div>\n        <div className=\"text-white text-center p-2 pb-8\">\n          or enter a lichess.org game ID to create a room for a specific game in\n          play\n        </div>\n        <input\n          className=\"w-full h-10 pl-3 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\"\n          id=\"message\"\n          type=\"text\"\n          label=\"Message\"\n          placeholder=\"enter lichess game id\"\n          variant=\"outlined\"\n          value={room}\n          onChange={(event) => setRoomName(event.target.value)}\n        />\n      </div>\n      <div className=\"m-auto text-center text-white\">\n        <button\n          onClick={() => handleClick(name)}\n          className=\"border-white border-1 px-20 py-4 mt-6 rounded-lg\"\n        >\n          create custom room\n        </button>\n      </div>\n      <div className=\"text-center fixed w-full bottom-0 border-t-1 text-white p-4 flex\">\n        <a\n          href=\"https://lichess.org/api\"\n          className=\"lg:text-xl text-sm text-white underline m-auto\"\n        >\n          moves streamed using the lichess.org API\n        </a>\n        <h1 className=\"md:text-xl text-sm px-2\">-</h1>\n        <a\n          href=\"https://github.com/trevor-ofarrell/lichessTV-watch-party\"\n          className=\"lg:text-xl text-sm text-white underline m-auto\"\n        >\n          check out the source code on my GitHub\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import { useEffect, useRef, useState } from \"react\";\nimport socketIOClient from \"socket.io-client\";\nimport axios from \"axios\";\n\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\nconst NEW_CHAT_MESSAGE_EVENT = \"NEW_CHAT_MESSAGE_EVENT\";\nconst START_TYPING_MESSAGE_EVENT = \"START_TYPING_MESSAGE_EVENT\";\nconst STOP_TYPING_MESSAGE_EVENT = \"STOP_TYPING_MESSAGE_EVENT\";\n\nconst useChat = (roomId, name) => {\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [typingUsers, setTypingUsers] = useState([]);\n  const [user, setUser] = useState();\n  const socketRef = useRef();\n\n  const selectRandomColor = () => {\n    const colors = [\n      'text-green-500',\n      'text-purple-500',\n      'text-pink-500',\n      'text-red-500',\n      'text-red-700',\n      'text-blue-500',\n      'text-blue-300',\n      'text-green-400',\n      'text-pink-700',\n      'text-primary-500',\n      'text-orange-500',\n    ]\n    return colors[Math.floor(Math.random() * colors.length)];\n  }\n\n  useEffect(() => {\n    const fetchUser = () => {\n      setUser({ name, color: selectRandomColor()});\n    };\n    fetchUser();\n  }, []);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_ENDPOINT}/rooms/${roomId}/users`\n      );\n      const result = response.data.users;\n      setUsers(result);\n    };\n\n    fetchUsers();\n  }, [roomId]);\n\n  useEffect(() => {\n    const fetchMessages = async () => {\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_ENDPOINT}/rooms/${roomId}/messages`\n      );\n      const result = response.data.messages;\n      setMessages(result);\n    };\n\n    fetchMessages();\n  }, [roomId]);\n\n  useEffect(() => {\n    if (!user) {\n      return;\n    }\n    socketRef.current = socketIOClient(process.env.REACT_APP_API_ENDPOINT, {\n      query: { roomId, name: user.name },\n    });\n\n    socketRef.current.on(\"connect\", () => {\n      console.log(socketRef.current.id);\n    });\n\n    socketRef.current.on(USER_JOIN_CHAT_EVENT, (user) => {\n      if (user.id === `${socketRef.current.id}${user.name}`) return;\n      setUsers((users) => [...users, user]);\n    });\n\n    socketRef.current.on(USER_LEAVE_CHAT_EVENT, (user) => {\n      setUsers((users) => users.filter((u) => u.id !== user.id));\n    });\n\n    socketRef.current.on(NEW_CHAT_MESSAGE_EVENT, (message) => {\n      const incomingMessage = {\n        ...message,\n        ownedByCurrentUser:\n          message.senderId === `${socketRef.current.id}${user.name}`,\n      };\n      setMessages((messages) => [...messages, incomingMessage]);\n    });\n\n    socketRef.current.on(START_TYPING_MESSAGE_EVENT, (typingInfo) => {\n      if (typingInfo.senderId !== `${socketRef.current.id}${user.name}`) {\n        const user = typingInfo.user;\n        setTypingUsers((users) => [...users, user]);\n      }\n    });\n\n    socketRef.current.on(STOP_TYPING_MESSAGE_EVENT, (typingInfo) => {\n      if (typingInfo.senderId !== `${socketRef.current.id}${user.name}`) {\n        const user = typingInfo.user;\n        setTypingUsers((users) => users.filter((u) => u.name !== user.name));\n      }\n    });\n\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, [roomId, user]);\n\n  const sendMessage = (messageBody, system) => {\n    if (!socketRef.current) return;\n    if (system === true) {\n      socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT, {\n        body: messageBody,\n        senderId: socketRef.current.id,\n        name: user?.name,\n        system: system,\n      });\n    } else {\n      socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT, {\n        body: messageBody,\n        senderId: `${socketRef.current.id}${user.name}`,\n        user: user,\n        name: user?.name,\n        color: user?.color,\n        system: system,\n      });\n    }\n  };\n\n  const startTypingMessage = () => {\n    if (!socketRef.current) return;\n    socketRef.current.emit(START_TYPING_MESSAGE_EVENT, {\n      senderId: socketRef.current.id,\n      user,\n    });\n  };\n\n  const stopTypingMessage = () => {\n    if (!socketRef.current) return;\n    socketRef.current.emit(STOP_TYPING_MESSAGE_EVENT, {\n      senderId: socketRef.current.id,\n      user,\n    });\n  };\n\n  const addUser = (name) => {\n    const user = { name };\n    setUsers((users) => [...users, user]);\n  };\n\n  return {\n    messages,\n    user,\n    users,\n    typingUsers,\n    sendMessage,\n    startTypingMessage,\n    stopTypingMessage,\n    addUser,\n  };\n};\n\nexport default useChat;\n","import { useEffect, useState } from \"react\";\n\nconst useTyping = () => {\n  const [isTyping, setIsTyping] = useState(false);\n  const [isKeyPressed, setIsKeyPressed] = useState(false);\n  const [countdown, setCountdown] = useState(5);\n\n  const startTyping = () => {\n    setIsKeyPressed(true);\n    setCountdown(5);\n    setIsTyping(true);\n  };\n\n  const stopTyping = () => {\n    setIsKeyPressed(false);\n  };\n\n  const cancelTyping = () => {\n    setCountdown(0);\n  };\n\n  useEffect(() => {\n    let interval;\n    if (!isKeyPressed) {\n      interval = setInterval(() => {\n        setCountdown((c) => c - 1);\n      }, 1000);\n    } else if (isKeyPressed || countdown === 0) {\n      clearInterval(interval);\n    }\n\n    if (countdown === 0) {\n      setIsTyping(false);\n    }\n\n    return () => clearInterval(interval);\n  }, [isKeyPressed, countdown]);\n\n  return { isTyping, startTyping, stopTyping, cancelTyping };\n};\n\nexport default useTyping;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport tw from \"twin.macro\";\nimport useChat from \"./useChat\";\nimport useTyping from \"./useTyping\";\n\nexport const Input = tw.input`\n  px-4\n  py-2\n  placeholder-gray-500\n  w-auto\n  lg:mx-auto\n  focus:ring-primary-100\n  focus:border-primary-500\n  border-gray-400\n  border-width[1px]\n  border-solid\n  rounded-md\n  shadow-xs\n`;\n\nexport const InputTextLeft = tw(Input)`text-left py-2`;\n\nconst getWindowDimensions = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n};\n\nconst useWindowDimensions = () => {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n};\n\nconst Room = (props) => {\n  const { roomId, name } = props;\n  const { isTyping, startTyping, stopTyping, cancelTyping } = useTyping();\n  const { height, width } = useWindowDimensions();\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [gameID, setGameID] = useState(\"\");\n  const [FEN, setFEN] = useState([]);\n  const [black, setBlack] = useState(\"\");\n  const [white, setWhite] = useState(\"\");\n  const messageRef = useRef();\n  const [listening, setListening] = useState(false);\n  const {\n    messages,\n    user,\n    users,\n    typingUsers,\n    sendMessage,\n    startTypingMessage,\n    stopTypingMessage,\n    addUser,\n  } = useChat(roomId, name);\n\n  const handleNewMessageChange = (event) => {\n    setNewMessage(event.target.value);\n  };\n\n  const handleSendMessage = (event) => {\n    event.preventDefault();\n    cancelTyping();\n    if (newMessage !== \"\") {\n      sendMessage(newMessage, false);\n      setNewMessage(\"\");\n    }\n  };\n\n  const handleKeyUp = (event) => {\n    if (event.key === \"Enter\") {\n      if (newMessage !== \"\") {\n        sendMessage(newMessage, false);\n        setNewMessage(\"\");\n      }\n    }\n  };\n\n  const createPlayerNames = (user, setPlayer) => {\n    let username = \"\";\n    if (user.user.name) {\n      if (user.user.title) {\n        username = user.user.title + \" \" + user.user.name + \" \" + user.rating;\n      } else {\n        username = user.user.name + \" \" + user.rating;\n      }\n      setPlayer(username);\n    }\n  };\n\n  const selectRandomColor = () => {\n    colors = [\n      'text-green-400',\n      'text-purple-400',\n      'text-pink-400',\n      'text-red-400',\n      'text-blue-400',\n      'text-orange-400',\n    ]\n    return colors[Math.floor(Math.random() * colors.length)];\n  }\n\n  useEffect(() => messageRef.current.scrollIntoView({ behavior: \"smooth\" }));\n\n  useEffect(() => {\n    if (!listening) {\n      let source;\n      roomId !== \"featured\"\n        ? (source = new EventSource(\n            `${process.env.REACT_APP_API_ENDPOINT}/lichesstvcustom/?id=${roomId}`\n          ))\n        : (source = new EventSource(\n            `${process.env.REACT_APP_API_ENDPOINT}/lichesstv`\n          ));\n      if (roomId !== \"featured\") {\n        source.onmessage = (event) => {\n          const parsedData = JSON.parse(event.data);\n          //console.log(event.data);\n          setFEN([parsedData.fen]);\n          if (parsedData.id) {\n            setGameID(parsedData.id);\n          }\n        };\n      } else {\n        source.onmessage = (event) => {\n          const parsedData = JSON.parse(event.data);\n          console.log(event.data);\n          setFEN([parsedData.d.fen]);\n          if (parsedData.d.players) {\n            createPlayerNames(parsedData.d.players[0], setWhite);\n            createPlayerNames(parsedData.d.players[1], setBlack);\n          }\n          if (parsedData.d.id) {\n            setGameID(parsedData.d.id);\n          }\n        };\n      }\n      setListening(true);\n    }\n  }, [listening, FEN]);\n\n  useEffect(() => {\n    if (isTyping) startTypingMessage();\n    else stopTypingMessage();\n  }, [isTyping]);\n\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"ml-auto bg-black overflow-hidden\"\n    >\n      <div className=\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\">\n        <a href=\"/\" className=\"md:left-4 md:top-4 left-2 top-2 absolute md:pr-6 hidden md:flex\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"md:h-10 md:w-10 h-8 w-8 text-white\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n            />\n          </svg>\n        </a>\n        <div className=\"sm:mt-auto overflow-hidden m-auto mt-0\">\n          <div className=\"flex md:mt-2\">\n            <div className=\"flex mr-auto p-2 pl-0\">\n              <h1 className=\"md:text-xl text-sm text-white pr-1\">game:</h1>\n              <a\n                href={`https://lichess.org/${gameID}`}\n                className=\"md:text-xl text-sm text-white\"\n              >\n                lichess.org/{gameID}\n              </a>\n            </div>\n            <h1 className=\"md:text-xl text-sm text-white p-2 m-auto\">\n              room: {roomId}\n            </h1>\n          </div>\n          <div className=\"font-medium md:text-sm md:pl-0 text-xs pl-6 text-white max-w-50% text-left break-all hidden md:flex\">\n            FEN: {FEN}\n          </div>\n          <div className=\"m-auto\">\n            <div className=\"font-medium md:text-2xl text-lg my-1 text-white\">\n              {black}\n            </div>\n            <div className=\"m-auto\">\n              <Chessboard\n                position={FEN[0]}\n                transitionDuration={100}\n                showNotation={false}\n                calcWidth={(size) =>\n                  size.screenWidth < 1440\n                    ? (size.screenHeight / 100) * 46\n                    : size.screenWidth > 1440\n                    ? (size.screenHeight / 100) * 70\n                    : (screen.width / 100) * 100\n                }\n              />\n            </div>\n            <div className=\"font-medium md:text-2xl text-lg my-1 text-white\">\n              {\" \"}\n              {white}\n            </div>\n          </div>\n        </div>\n        <div className=\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-black ml-auto\">\n          <div className=\"h-full ml-1 mt-1 overflow-y-auto\">\n            <>\n              <ol>\n                {messages.map((message, i) => (\n                  <li key={i}>\n                    {message.system === true ? (\n                      <div className=\"text-center text-gray-500 text-sm\">\n                        {message.body}\n                      </div>\n                    ) : (\n                      <span className=\"text-left text-white text-sm flex\">\n                        {message.name ? (\n                          <div className={`font-bold ${message.user.color} mr-1`}>\n                            {message.name}:\n                          </div>\n                        ) : (\n                          <>{\"\"}</>\n                        )}\n                        {message.body}\n                      </span>\n                    )}\n                  </li>\n                ))}\n              </ol>\n              <div className=\"xl:w-30% px-auto w-99 bottom-1 absolute\">\n                <input\n                  className=\"w-full h-10 pl-3 pr-8 text-base placeholder-white-600 border bg-gray-700 rounded-lg focus:shadow-outline\"\n                  id=\"message\"\n                  type=\"text\"\n                  label=\"Message\"\n                  placeholder=\"enter message here\"\n                  variant=\"outlined\"\n                  value={newMessage}\n                  onChange={handleNewMessageChange}\n                  onKeyUp={handleKeyUp}\n                />\n                <button\n                  className=\"absolute inset-y-0 h-10 right-0 flex items-center px-4 font-bold text-white bg-yellow-600 rounded-r-lg hover:bg-blue-500\"\n                  disabled={!newMessage}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleSendMessage}\n                >\n                  Send\n                </button>\n              </div>\n            </>\n            <div ref={messageRef}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Room;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport tw from \"twin.macro\";\nimport useChat from \"./useChat\";\nimport useTyping from \"./useTyping\";\n\nexport const Input = tw.input`\n  px-4\n  py-2\n  placeholder-gray-500\n  w-auto\n  lg:mx-auto\n  focus:ring-primary-100\n  focus:border-primary-500\n  border-gray-400\n  border-width[1px]\n  border-solid\n  rounded-md\n  shadow-xs\n`;\n\nexport const InputTextLeft = tw(Input)`text-left py-2`;\n\nexport const PrimaryButton = ({ className = \"\", children, ...rest }) => {\n  return (\n    <Button\n      className={`bg-primary-500 hover:bg-primary-300 text-white`}\n      {...rest}\n      data-testid=\"btn\"\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport const Button = ({ className = \"\", children, ...rest }) => {\n  return (\n    <button\n      className={`py-2 px-4 focus:outline-none ring-opacity-75 ring-primary-400 focus:ring text-lg rounded-md`}\n      {...rest}\n      data-testid=\"btn\"\n    >\n      {children}\n    </button>\n  );\n};\n\nconst getWindowDimensions = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n};\n\nconst useWindowDimensions = () => {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n};\n\nconst JoinChat = (props) => {\n  const { roomId, onNameUpdate } = props;\n  const [name, setName] = useState(\"\");\n  const { isTyping, startTyping, stopTyping, cancelTyping } = useTyping();\n  const { height, width } = useWindowDimensions();\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [FEN, setFEN] = useState([]);\n  const [black, setBlack] = useState(\"\");\n  const [white, setWhite] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const messageRef = useRef();\n  const [listening, setListening] = useState(false);\n  const {\n    messages,\n    user,\n    users,\n    typingUsers,\n    sendMessage,\n    startTypingMessage,\n    stopTypingMessage,\n    addUser,\n  } = useChat(roomId, name);\n\n  const handleKeyUp = (event) => {\n    if (event.key === \"Enter\") {\n      if (newMessage !== \"\") {\n        sendMessage(newMessage, false);\n        setNewMessage(\"\");\n      }\n    }\n  };\n\n  const createPlayerNames = (user, setPlayer) => {\n    let username = \"\";\n    if (user.user.name) {\n      if (user.user.title) {\n        username = user.user.title + \" \" + user.user.name + \" \" + user.rating;\n      } else {\n        username = user.user.name + \" \" + user.rating;\n      }\n      setPlayer(username);\n    }\n  };\n\n  useEffect(() => messageRef.current.scrollIntoView({ behavior: \"smooth\" }));\n\n  useEffect(() => {\n    if (!listening) {\n      let source;\n      roomId !== \"featured\"\n        ? (source = new EventSource(\n            `${process.env.REACT_APP_API_ENDPOINT}/lichesstvcustom/?id=${roomId}`\n          ))\n        : (source = new EventSource(\n            `${process.env.REACT_APP_API_ENDPOINT}/lichesstv`\n          ));\n      if (roomId !== \"featured\") {\n        source.onmessage = (event) => {\n          const parsedData = JSON.parse(event.data);\n          console.log(event.data);\n          setFEN([parsedData.fen]);\n        };\n      } else {\n        source.onmessage = (event) => {\n          const parsedData = JSON.parse(event.data);\n          console.log(event.data);\n          setFEN([parsedData.d.fen]);\n          if (parsedData.d.players) {\n            createPlayerNames(parsedData.d.players[0], setWhite);\n            createPlayerNames(parsedData.d.players[1], setBlack);\n          }\n        };\n      }\n      setListening(true);\n    }\n  }, [listening, FEN]);\n\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"ml-auto bg-black overflow-hidden\"\n    >\n      <div className=\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\">\n        <div className=\"sm:mt-auto overflow-hidden m-auto\">\n          <div className=\"font-medium md:text-sm text-xs text-white max-w-70 text-left break-all\">\n            FEN: {FEN}\n          </div>\n          <div className=\"m-auto\">\n            <div className=\"font-medium md:text-2xl text-lg my-1 text-white\">\n              {black}\n            </div>\n            <div className=\"m-auto\">\n              <Chessboard\n                position={FEN[0]}\n                transitionDuration={100}\n                showNotation={false}\n                calcWidth={(size) =>\n                  size.screenWidth < 1440\n                    ? (size.screenHeight / 100) * 46\n                    : size.screenWidth > 1440\n                    ? (size.screenHeight / 100) * 70\n                    : (screen.width / 100) * 100\n                }\n              />\n            </div>\n            <div className=\"font-medium md:text-2xl text-lg my-1 text-white\">\n              {\" \"}\n              {white}\n            </div>\n          </div>\n        </div>\n        <div className=\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-black ml-auto\">\n          <div className=\"h-full ml-1 mt-1 overflow-y-auto\">\n            <h1 className=\"text-lg\">Room: {roomId}</h1>\n\n            <div className=\"m-auto xl:pt-12\">\n              <div className=\"font-bold text-white text-center text-lg px-4\">\n                Create a username to join the chat\n              </div>\n              <div>\n                <div className=\"xl:w-full w-80 overflow-hidden p-4 m-auto\">\n                  <input\n                    className=\"w-full h-10 pl-3 text-base bg-gray-700 placeholder-white border rounded-lg focus:shadow-outline\"\n                    id=\"message\"\n                    type=\"text\"\n                    label=\"Message\"\n                    placeholder=\"enter username\"\n                    variant=\"outlined\"\n                    value={userName}\n                    onChange={(event) => setUserName(event.target.value)}\n                  />\n                </div>\n              </div>\n              <button\n                className=\"h-12 m-auto flex items-center px-4 font-bold text-white bg-yellow-600 rounded-lg hover:bg-green-600 focus:bg-green-600\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setName(userName);\n                  onNameUpdate(userName);\n                  addUser(userName);\n                }}\n              >\n                Join Chat\n              </button>\n            </div>\n            <div ref={messageRef}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JoinChat;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Room from \"./Room\";\nimport JoinChat from \"./JoinChat\";\n\nconst getWindowDimensions = () => {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n};\n\nconst useWindowDimensions = () => {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n};\n\nconst Chat = (props) => {\n  const { height, width } = useWindowDimensions();\n  const { roomId } = props.match.params;\n  const [name, setName] = useState(props.location.state?.name);\n\n  const updateName = (name) => {\n    setName(name);\n  };\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"ml-auto bg-gray-900 overflow-hidden fixed\"\n    >\n      {name ? (\n        <Room name={name} roomId={roomId} />\n      ) : (\n        <JoinChat roomId={roomId} onNameUpdate={updateName} />\n      )}\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport \"./index.css\";\nimport Chat from \"./Chat\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/:roomId\" component={Chat} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin"]}}