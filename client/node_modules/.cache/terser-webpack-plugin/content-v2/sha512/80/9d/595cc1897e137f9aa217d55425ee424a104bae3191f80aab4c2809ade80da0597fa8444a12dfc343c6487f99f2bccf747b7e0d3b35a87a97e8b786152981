{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n.n(a),r=n(65),s=n.n(r),o=(n(38),n(26)),i=n(4),l=n(2),d=n(17),u=(n(68),n(37)),m=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},h=function(){var e=Object(a.useState)(m()),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c(m())}return window.addEventListener(\"resize\",e),function(){return window.removeEventListener(\"resize\",e)}}),[]),n},x=n(1),b=u.a.input({paddingLeft:\"1rem\",paddingRight:\"1rem\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",color:\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},width:\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",borderColor:\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",borderColor:\"rgba(203, 213, 224, var(--tw-border-opacity))\",borderWidth:\"1px\",borderStyle:\"solid\",borderRadius:\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",boxShadow:\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{marginLeft:\"auto\",marginRight:\"auto\"}}),j=(Object(u.a)(b)({textAlign:\"left\",paddingTop:\"0.5rem\",paddingBottom:\"0.5rem\"}),function(e){var t=h(),n=t.height,c=t.width,r=Object(a.useState)(\"\"),s=Object(l.a)(r,2),o=s[0],d=s[1],u=Object(a.useState)(\"\"),m=Object(l.a)(u,2),b=m[0],j=m[1],f=Object(i.f)(),g=function(){o.length?f.push({pathname:\"/\".concat(o),state:{name:b,roomId:o}}):f.push({pathname:\"/featured\",state:{name:b}})};return Object(x.jsxs)(\"div\",{style:{height:n,width:c},className:\"bg-scheme-dark overflow-hidden fixed h-full max-h-full\",children:[Object(x.jsx)(\"div\",{className:\"text-scheme-orange text-3xl text-center p-2 pb-6\",children:\"lichessTV watch party\"}),Object(x.jsx)(\"form\",{children:Object(x.jsxs)(\"div\",{className:\"md:w-3/5 md:mt-20 max-w-xl overflow-hidden p-4 mt-6 m-auto\",children:[Object(x.jsx)(\"input\",{className:\"w-full h-10 pl-3 mb-4 text-base bg-scheme-light placeholder-gray-500 text-gray-500 border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"create username\",variant:\"outlined\",value:b,onChange:function(e){return j(e.target.value)}}),Object(x.jsx)(\"div\",{className:\"m-auto text-center text-white mb-6\",children:Object(x.jsx)(\"button\",{onClick:function(){return g()},className:\"border-scheme-orange border-1 px-20 py-4 mt-4 rounded-lg\",children:\"join featured room\"})}),Object(x.jsx)(\"div\",{className:\"text-scheme-orange text-center p-2 pb-8\",children:\"or enter a lichess.org game ID to create a room for a specific game in play\"}),Object(x.jsx)(\"input\",{className:\"w-full h-10 pl-3 mb-4 text-base bg-scheme-light placeholder-gray-500 text-gray-500 border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter lichess game id\",variant:\"outlined\",value:o,onChange:function(e){return d(e.target.value)}}),Object(x.jsx)(\"div\",{className:\"m-auto text-center text-white\",children:Object(x.jsx)(\"button\",{onClick:function(){return g()},className:\"border-scheme-orange border-1 px-20 py-4 mt-6 rounded-lg\",children:\"create custom room\"})})]})}),Object(x.jsxs)(\"footer\",{className:\"text-center fixed w-full bottom-0 text-scheme-orange p-4 flex\",children:[Object(x.jsx)(\"a\",{href:\"https://lichess.org/api\",className:\"lg:text-xl text-sm  underline m-auto\",children:\"moves streamed using the lichess.org API\"}),Object(x.jsx)(\"a\",{href:\"https://github.com/trevor-ofarrell/lichessTV-watch-party\",className:\"lg:text-xl text-sm underline m-auto\",children:\"check out the source code on GitHub\"})]})]})}),f=n(23),g=n(14),p=n.n(g),O=n(22),v=n(66),w=n.n(v),y=n(36),N=n.n(y),S=\"NEW_CHAT_MESSAGE_EVENT\",E=\"START_TYPING_MESSAGE_EVENT\",T=\"STOP_TYPING_MESSAGE_EVENT\",k=function(e,t){var n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)([]),i=Object(l.a)(o,2),u=i[0],m=i[1],h=Object(a.useState)([]),x=Object(l.a)(h,2),b=x[0],j=x[1],g=Object(a.useState)(),v=Object(l.a)(g,2),y=v[0],k=v[1],I=Object(a.useRef)(),C=function(){var e=[\"text-green-500\",\"text-purple-500\",\"text-pink-500\",\"text-red-500\",\"text-red-700\",\"text-blue-500\",\"text-blue-300\",\"text-green-400\",\"text-pink-700\",\"text-primary-500\",\"text-orange-500\"];return e[Math.floor(Math.random()*e.length)]};Object(a.useEffect)((function(){k({name:t,color:C()})}),[]),Object(a.useEffect)((function(){(function(){var t=Object(O.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(e,\"/users\"));case 2:n=t.sent,a=n.data.users,m(a);case 5:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(a.useEffect)((function(){(function(){var t=Object(O.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(e,\"/messages\"));case 2:n=t.sent,a=n.data.messages,s(a);case 5:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(a.useEffect)((function(){if(y)return I.current=w()(\"http://localhost:3030\",{query:{roomId:e,name:y.name}}),I.current.on(\"connect\",(function(){console.log(I.current.id)})),I.current.on(\"USER_JOIN_CHAT_EVENT\",(function(e){e.id!==\"\".concat(I.current.id).concat(e.name)&&m((function(t){return[].concat(Object(f.a)(t),[e])}))})),I.current.on(\"USER_LEAVE_CHAT_EVENT\",(function(e){m((function(t){return t.filter((function(t){return t.id!==e.id}))}))})),I.current.on(S,(function(e){var t=Object(d.a)(Object(d.a)({},e),{},{ownedByCurrentUser:e.senderId===\"\".concat(I.current.id).concat(y.name)});s((function(e){return[].concat(Object(f.a)(e),[t])}))})),I.current.on(E,(function(e){if(e.senderId!==\"\".concat(I.current.id).concat(y.name)){var t=e.user;j((function(e){return[].concat(Object(f.a)(e),[t])}))}})),I.current.on(T,(function(e){if(e.senderId!==\"\".concat(I.current.id).concat(y.name)){var t=e.user;j((function(e){return e.filter((function(e){return e.name!==t.name}))}))}})),function(){I.current.disconnect()}}),[e,y]);return{messages:r,user:y,users:u,typingUsers:b,sendMessage:function(e,t){I.current&&(!0===t?I.current.emit(S,{body:e,senderId:I.current.id,name:null===y||void 0===y?void 0:y.name,system:t}):I.current.emit(S,{body:e,senderId:\"\".concat(I.current.id).concat(y.name),user:y,name:null===y||void 0===y?void 0:y.name,color:null===y||void 0===y?void 0:y.color,system:t}))},startTypingMessage:function(){I.current&&I.current.emit(E,{senderId:I.current.id,user:y})},stopTypingMessage:function(){I.current&&I.current.emit(T,{senderId:I.current.id,user:y})},addUser:function(e){var t={name:e};m((function(e){return[].concat(Object(f.a)(e),[t])}))}}},I=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(a.useState)(5),u=Object(l.a)(d,2),m=u[0],h=u[1];return Object(a.useEffect)((function(){var e;return o?(o||0===m)&&clearInterval(e):e=setInterval((function(){h((function(e){return e-1}))}),1e3),0===m&&c(!1),function(){return clearInterval(e)}}),[o,m]),{isTyping:n,startTyping:function(){i(!0),h(5),c(!0)},stopTyping:function(){i(!1)},cancelTyping:function(){h(0)}}},C=n(67),M=n.n(C),_=function(e,t){t({name:e.user.name,title:e.user.title,rating:String(e.rating)})},A=function(e){var t=e.roomId,n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)({}),i=Object(l.a)(o,2),d=i[0],u=i[1],m=Object(a.useState)({}),h=Object(l.a)(m,2),b=h[0],j=h[1],f=Object(a.useState)(!1),g=Object(l.a)(f,2),v=g[0],w=g[1],y={};return Object(a.useEffect)(Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=14;break}if(\"featured\"===t){e.next=11;break}if(y.id===t){e.next=7;break}return e.next=5,fetch(\"http://localhost:3030/pgn/?id=\".concat(t)).then((function(e){return e.json()}));case 5:(y=e.sent).players.black&&(_(y.players.white,j),_(y.players.black,u));case 7:new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstvcustom/?id=\").concat(t)).onmessage=function(e){var t=JSON.parse(e.data);s([t.fen])},e.next=13;break;case 11:new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstv\")).onmessage=function(e){var t=JSON.parse(e.data);s([t.d.fen]),t.d.players&&(_(t.d.players[0],j),_(t.d.players[1],u))};case 13:w(!0);case 14:case\"end\":return e.stop()}}),e)}))),[v,r]),Object(x.jsxs)(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto\",children:[Object(x.jsxs)(\"div\",{className:\"font-medium md:text-sm text-xs text-white max-w-70 text-left break-all\",children:[\"FEN: \",r]}),Object(x.jsxs)(\"div\",{className:\"m-auto\",children:[Object(x.jsxs)(\"div\",{className:\"flex font-medium md:text-2xl text-lg my-1 text-white\",children:[Object(x.jsxs)(\"div\",{className:\"text-scheme-orange\",children:[d.title,\"\\xa0\"]}),Object(x.jsxs)(\"div\",{children:[d.name,\"\\xa0\"]}),Object(x.jsx)(\"div\",{className:\"text-gray-500\",children:d.rating})]}),Object(x.jsx)(\"div\",{className:\"m-auto\",children:Object(x.jsx)(M.a,{position:r[0],transitionDuration:100,showNotation:!1,calcWidth:function(e){return e.screenWidth<1440?e.screenHeight/100*46:e.screenWidth>1440?e.screenHeight/100*70:screen.width/100*100}})}),Object(x.jsxs)(\"div\",{className:\"flex font-medium md:text-2xl text-lg my-1 text-white\",children:[Object(x.jsxs)(\"div\",{className:\"text-scheme-orange\",children:[b.title,\"\\xa0\"]}),Object(x.jsxs)(\"div\",{children:[b.name,\"\\xa0\"]}),Object(x.jsx)(\"div\",{className:\"text-gray-500\",children:b.rating})]})]})]})},R=function(e){var t=e.roomId,n=e.name,c=I(),r=c.isTyping,s=(c.startTyping,c.stopTyping,c.cancelTyping),o=h(),i=o.height,d=o.width,u=Object(a.useState)(\"\"),m=Object(l.a)(u,2),b=m[0],j=m[1],f=Object(a.useState)(\"\"),g=Object(l.a)(f,2),p=g[0],O=(g[1],Object(a.useRef)()),v=k(t,n),w=v.messages,y=(v.user,v.users,v.typingUsers,v.sendMessage),N=v.startTypingMessage,S=v.stopTypingMessage;return Object(a.useEffect)((function(){return O.current.scrollIntoView({behavior:\"smooth\"})})),Object(a.useEffect)((function(){r?N():S()}),[r]),Object(x.jsx)(\"div\",{style:{height:i,width:d},className:\"ml-auto bg-scheme-dark overflow-hidden\",children:Object(x.jsxs)(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:[Object(x.jsx)(\"a\",{href:\"/\",className:\"md:left-4 md:top-4 left-2 top-2 absolute md:pr-6 hidden md:flex\",children:Object(x.jsx)(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"md:h-10 md:w-10 h-8 w-8 text-scheme-orange\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:Object(x.jsx)(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})})}),Object(x.jsxs)(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto mt-0\",children:[Object(x.jsxs)(\"div\",{className:\"flex md:mt-2 text-gray-400\",children:[Object(x.jsxs)(\"div\",{className:\"flex mr-auto p-2 pl-0\",children:[Object(x.jsx)(\"h1\",{className:\"md:text-xl text-sm pr-1\",children:\"game:\"}),Object(x.jsxs)(\"a\",{href:\"https://lichess.org/\".concat(p),className:\"md:text-xl text-sm underline  \",children:[\"lichess.org/\",p]})]}),Object(x.jsxs)(\"h1\",{className:\"md:text-xl text-sm p-2 ml-auto\",children:[\"room: \",t]})]}),Object(x.jsx)(A,{roomId:t})]}),Object(x.jsx)(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-scheme-dark ml-auto\",children:Object(x.jsxs)(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(\"ol\",{children:w.map((function(e,t){return Object(x.jsx)(\"li\",{children:!0===e.system?Object(x.jsx)(\"div\",{className:\"text-center text-gray-500 text-sm\",children:e.body}):Object(x.jsxs)(\"span\",{className:\"text-left text-white text-sm flex\",children:[e.name?Object(x.jsxs)(\"div\",{className:\"font-bold \".concat(e.user.color,\" mr-1\"),children:[e.name,\":\"]}):Object(x.jsx)(x.Fragment,{children:\"\"}),e.body]})},t)}))}),Object(x.jsxs)(\"div\",{className:\"xl:w-30% px-auto w-99 bottom-1 absolute\",children:[Object(x.jsx)(\"input\",{className:\"w-full h-10 pl-3 pr-8 text-base placeholder-white-600 text-gray-500 border bg-scheme-light rounded-lg\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter message here\",variant:\"outlined\",value:b,onChange:function(e){j(e.target.value)},onKeyUp:function(e){\"Enter\"===e.key&&\"\"!==b&&(y(b,!1),j(\"\"))}}),Object(x.jsx)(\"button\",{className:\"absolute inset-y-0 h-10 right-0 flex items-center px-4 font-bold text-white bg-scheme-orange rounded-r-lg\",disabled:!b,variant:\"contained\",color:\"primary\",onClick:function(e){e.preventDefault(),s(),\"\"!==b&&(y(b,!1),j(\"\"))},children:\"Send\"})]})]}),Object(x.jsx)(\"div\",{ref:O})]})})]})})},U=function(e){var t=e.roomId,n=e.onNameUpdate,c=Object(a.useState)(\"\"),r=Object(l.a)(c,2),s=r[0],o=r[1],d=h(),u=d.height,m=d.width,b=Object(a.useState)(\"\"),j=Object(l.a)(b,2),f=j[0],g=j[1],p=Object(a.useRef)(),O=Object(i.f)(),v=k(t,s).addUser;return Object(x.jsx)(\"div\",{style:{height:u,width:m},className:\"ml-auto bg-scheme-dark overflow-hidden\",children:Object(x.jsx)(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:Object(x.jsx)(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pt-20 pb-14 bg-scheme-dark ml-auto\",children:Object(x.jsxs)(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[Object(x.jsxs)(\"h1\",{className:\"text-xl p-4 text-center text-white\",children:[\"Room: \",t]}),Object(x.jsxs)(\"div\",{className:\"m-auto xl:pt-12\",children:[Object(x.jsx)(\"div\",{className:\"font-bold text-white text-center text-lg px-4\",children:\"Create a username to join the chat\"}),Object(x.jsx)(\"div\",{children:Object(x.jsx)(\"div\",{className:\"xl:w-full w-80 overflow-hidden p-4 m-auto\",children:Object(x.jsx)(\"input\",{className:\"w-full h-10 pl-3 text-base bg-scheme-light placeholder-gray-500 border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter username\",variant:\"outlined\",value:f,onChange:function(e){return g(e.target.value)}})})}),Object(x.jsx)(\"button\",{className:\"h-12 m-auto flex items-center px-4 font-bold text-white bg-scheme-orange rounded-lg\",variant:\"contained\",color:\"primary\",onClick:function(){o(f),n(f),v(f),t.length?O.push({pathname:\"/\".concat(t),state:{name:s}}):O.push({pathname:\"/featured\",state:{name:s}})},children:\"Join Chat\"})]}),Object(x.jsx)(\"div\",{ref:p})]})})})})},L=function(e){var t,n=h(),c=n.height,r=n.width,s=e.match.params.roomId,o=Object(a.useState)(null===(t=e.location.state)||void 0===t?void 0:t.name),i=Object(l.a)(o,2),d=i[0],u=i[1];return Object(x.jsx)(\"div\",{style:{height:c,width:r},className:\"ml-auto bg-gray-900 overflow-hidden fixed\",children:d?Object(x.jsx)(R,{name:d,roomId:s}):Object(x.jsx)(U,{roomId:s,onNameUpdate:function(e){u(e)}})})};var V=function(){return Object(x.jsx)(o.a,{children:Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{exact:!0,path:\"/\",component:j}),Object(x.jsx)(i.a,{exact:!0,path:\"/:roomId\",component:L})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(V,{})}),document.getElementById(\"root\")),F()},38:function(e,t,n){}},[[127,1,2]]]);","name":"static/js/main.89bc2ee2.chunk.js","map":{"version":3,"sources":["static/js/main.89bc2ee2.chunk.js"],"names":["this","push","127","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","slicedToArray","objectSpread2","emotion_styled_browser_esm","getWindowDimensions","_window","window","width","innerWidth","height","innerHeight","WindowDimensions","_useState","Object","_useState2","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","jsx_runtime","Input","input","paddingLeft","paddingRight","paddingTop","paddingBottom","::placeholder","--tw-placeholder-opacity","color",":focus","--tw-ring-opacity","--tw-ring-color","--tw-border-opacity","borderColor","borderWidth","borderStyle","borderRadius","--tw-shadow","boxShadow","@media (min-width: 1024px)","marginLeft","marginRight","src_Home","textAlign","props","_useWindowDimensions","room","setRoomName","_useState3","_useState4","name","setName","history","handleClick","length","pathname","concat","state","roomId","style","className","children","id","type","label","placeholder","variant","value","onChange","event","target","onClick","href","toConsumableArray","regenerator","regenerator_default","asyncToGenerator","build","build_default","axios","axios_default","NEW_CHAT_MESSAGE_EVENT","START_TYPING_MESSAGE_EVENT","STOP_TYPING_MESSAGE_EVENT","src_useChat","messages","setMessages","users","setUsers","_useState5","_useState6","typingUsers","setTypingUsers","_useState7","_useState8","user","setUser","socketRef","selectRandomColor","colors","Math","floor","random","_ref","a","mark","_callee","response","result","wrap","_context","prev","next","get","sent","data","stop","apply","arguments","fetchUsers","_ref2","_callee2","_context2","fetchMessages","current","query","on","console","log","filter","u","message","incomingMessage","ownedByCurrentUser","senderId","typingInfo","_user","_user2","disconnect","sendMessage","messageBody","system","emit","body","startTypingMessage","stopTypingMessage","addUser","src_useTyping","isTyping","setIsTyping","isKeyPressed","setIsKeyPressed","countdown","setCountdown","interval","clearInterval","setInterval","c","startTyping","stopTyping","cancelTyping","chessboard_min","chessboard_min_default","createPlayerObject","setPlayer","title","rating","String","Board_Board","FEN","setFEN","black","setBlack","white","setWhite","listening","setListening","pgnData","fetch","then","res","json","players","EventSource","onmessage","parsedData","JSON","parse","fen","d","position","transitionDuration","showNotation","calcWidth","size","screenWidth","screenHeight","screen","src_Room","_useTyping","newMessage","setNewMessage","gameID","messageRef","_useChat","scrollIntoView","behavior","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","map","i","onKeyUp","key","disabled","preventDefault","ref","src_JoinChat","onNameUpdate","userName","setUserName","src_Chat","_props$location$state","match","params","location","src_App","exact","path","component","src_reportWebVitals","onPerfEntry","Function","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById","38","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(65);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(68);\n\n// EXTERNAL MODULE: ./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js + 13 modules\nvar emotion_styled_browser_esm = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./src/hooks/WindowDimensions.js\nvar getWindowDimensions=function getWindowDimensions(){var _window=window,width=_window.innerWidth,height=_window.innerHeight;return{width:width,height:height};};var WindowDimensions_useWindowDimensions=function useWindowDimensions(){var _useState=Object(react[\"useState\"])(getWindowDimensions()),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),windowDimensions=_useState2[0],setWindowDimensions=_useState2[1];Object(react[\"useEffect\"])(function(){function handleResize(){setWindowDimensions(getWindowDimensions());}window.addEventListener(\"resize\",handleResize);return function(){return window.removeEventListener(\"resize\",handleResize);};},[]);return windowDimensions;};/* harmony default export */ var WindowDimensions = (WindowDimensions_useWindowDimensions);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/Home.jsx\nvar Input=emotion_styled_browser_esm[\"a\" /* default */].input({\"paddingLeft\":\"1rem\",\"paddingRight\":\"1rem\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\",\"::placeholder\":{\"--tw-placeholder-opacity\":\"1\",\"color\":\"rgba(160, 174, 192, var(--tw-placeholder-opacity))\"},\"width\":\"auto\",\":focus\":{\"--tw-ring-opacity\":\"1\",\"--tw-ring-color\":\"rgba(162, 115, 255, var(--tw-ring-opacity))\",\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(100, 21, 255, var(--tw-border-opacity))\"},\"--tw-border-opacity\":\"1\",\"borderColor\":\"rgba(203, 213, 224, var(--tw-border-opacity))\",\"borderWidth\":\"1px\",\"borderStyle\":\"solid\",\"borderRadius\":\"0.375rem\",\"--tw-shadow\":\"0 0 0 1px rgba(0, 0, 0, 0.05)\",\"boxShadow\":\"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)\",\"@media (min-width: 1024px)\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\"}});var InputTextLeft=Object(emotion_styled_browser_esm[\"a\" /* default */])(Input)({\"textAlign\":\"left\",\"paddingTop\":\"0.5rem\",\"paddingBottom\":\"0.5rem\"});var Home_PrimaryButton=function PrimaryButton(_ref){var _ref$className=_ref.className,className=_ref$className===void 0?\"\":_ref$className,children=_ref.children,rest=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"className\",\"children\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({className:\"bg-primary-500 hover:bg-primary-300 text-white\"},rest),{},{\"data-testid\":\"btn\",children:children}));};var Home_Home=function Home(props){var _useWindowDimensions=WindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),room=_useState2[0],setRoomName=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),name=_useState4[0],setName=_useState4[1];var history=Object(react_router[\"f\" /* useHistory */])();var handleClick=function handleClick(){if(!room.length){history.push({pathname:\"/featured\",state:{name:name}});}else{history.push({pathname:\"/\".concat(room),state:{name:name,roomId:room}});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{height:height,width:width},className:\"bg-scheme-dark overflow-hidden fixed h-full max-h-full\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-scheme-orange text-3xl text-center p-2 pb-6\",children:\"lichessTV watch party\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"md:w-3/5 md:mt-20 max-w-xl overflow-hidden p-4 mt-6 m-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 mb-4 text-base bg-scheme-light placeholder-gray-500 text-gray-500 border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"create username\",variant:\"outlined\",value:name,onChange:function onChange(event){return setName(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"m-auto text-center text-white mb-6\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleClick(\"\");},className:\"border-scheme-orange border-1 px-20 py-4 mt-4 rounded-lg\",children:\"join featured room\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-scheme-orange text-center p-2 pb-8\",children:\"or enter a lichess.org game ID to create a room for a specific game in play\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 mb-4 text-base bg-scheme-light placeholder-gray-500 text-gray-500 border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter lichess game id\",variant:\"outlined\",value:room,onChange:function onChange(event){return setRoomName(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"m-auto text-center text-white\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleClick(name);},className:\"border-scheme-orange border-1 px-20 py-4 mt-6 rounded-lg\",children:\"create custom room\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"footer\",{className:\"text-center fixed w-full bottom-0 text-scheme-orange p-4 flex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://lichess.org/api\",className:\"lg:text-xl text-sm  underline m-auto\",children:\"moves streamed using the lichess.org API\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/trevor-ofarrell/lichessTV-watch-party\",className:\"lg:text-xl text-sm underline m-auto\",children:\"check out the source code on GitHub\"})]})]});};/* harmony default export */ var src_Home = (Home_Home);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(14);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(66);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(36);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/useChat.js\nvar USER_JOIN_CHAT_EVENT=\"USER_JOIN_CHAT_EVENT\";var USER_LEAVE_CHAT_EVENT=\"USER_LEAVE_CHAT_EVENT\";var NEW_CHAT_MESSAGE_EVENT=\"NEW_CHAT_MESSAGE_EVENT\";var START_TYPING_MESSAGE_EVENT=\"START_TYPING_MESSAGE_EVENT\";var STOP_TYPING_MESSAGE_EVENT=\"STOP_TYPING_MESSAGE_EVENT\";var useChat_useChat=function useChat(roomId,name){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),typingUsers=_useState6[0],setTypingUsers=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),user=_useState8[0],setUser=_useState8[1];var socketRef=Object(react[\"useRef\"])();var selectRandomColor=function selectRandomColor(){var colors=[\"text-green-500\",\"text-purple-500\",\"text-pink-500\",\"text-red-500\",\"text-red-700\",\"text-blue-500\",\"text-blue-300\",\"text-green-400\",\"text-pink-700\",\"text-primary-500\",\"text-orange-500\"];return colors[Math.floor(Math.random()*colors.length)];};Object(react[\"useEffect\"])(function(){var fetchUser=function fetchUser(){setUser({name:name,color:selectRandomColor()});};fetchUser();},[]);Object(react[\"useEffect\"])(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(roomId,\"/users\"));case 2:response=_context.sent;result=response.data.users;setUsers(result);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers();},[roomId]);Object(react[\"useEffect\"])(function(){var fetchMessages=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var response,result;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios_default.a.get(\"\".concat(\"http://localhost:3030\",\"/rooms/\").concat(roomId,\"/messages\"));case 2:response=_context2.sent;result=response.data.messages;setMessages(result);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchMessages(){return _ref2.apply(this,arguments);};}();fetchMessages();},[roomId]);Object(react[\"useEffect\"])(function(){if(!user){return;}socketRef.current=build_default()(\"http://localhost:3030\",{query:{roomId:roomId,name:user.name}});socketRef.current.on(\"connect\",function(){console.log(socketRef.current.id);});socketRef.current.on(USER_JOIN_CHAT_EVENT,function(user){if(user.id===\"\".concat(socketRef.current.id).concat(user.name))return;setUsers(function(users){return[].concat(Object(toConsumableArray[\"a\" /* default */])(users),[user]);});});socketRef.current.on(USER_LEAVE_CHAT_EVENT,function(user){setUsers(function(users){return users.filter(function(u){return u.id!==user.id;});});});socketRef.current.on(NEW_CHAT_MESSAGE_EVENT,function(message){var incomingMessage=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},message),{},{ownedByCurrentUser:message.senderId===\"\".concat(socketRef.current.id).concat(user.name)});setMessages(function(messages){return[].concat(Object(toConsumableArray[\"a\" /* default */])(messages),[incomingMessage]);});});socketRef.current.on(START_TYPING_MESSAGE_EVENT,function(typingInfo){if(typingInfo.senderId!==\"\".concat(socketRef.current.id).concat(user.name)){var _user=typingInfo.user;setTypingUsers(function(users){return[].concat(Object(toConsumableArray[\"a\" /* default */])(users),[_user]);});}});socketRef.current.on(STOP_TYPING_MESSAGE_EVENT,function(typingInfo){if(typingInfo.senderId!==\"\".concat(socketRef.current.id).concat(user.name)){var _user2=typingInfo.user;setTypingUsers(function(users){return users.filter(function(u){return u.name!==_user2.name;});});}});return function(){socketRef.current.disconnect();};},[roomId,user]);var sendMessage=function sendMessage(messageBody,system){if(!socketRef.current)return;if(system===true){socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT,{body:messageBody,senderId:socketRef.current.id,name:user===null||user===void 0?void 0:user.name,system:system});}else{socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT,{body:messageBody,senderId:\"\".concat(socketRef.current.id).concat(user.name),user:user,name:user===null||user===void 0?void 0:user.name,color:user===null||user===void 0?void 0:user.color,system:system});}};var startTypingMessage=function startTypingMessage(){if(!socketRef.current)return;socketRef.current.emit(START_TYPING_MESSAGE_EVENT,{senderId:socketRef.current.id,user:user});};var stopTypingMessage=function stopTypingMessage(){if(!socketRef.current)return;socketRef.current.emit(STOP_TYPING_MESSAGE_EVENT,{senderId:socketRef.current.id,user:user});};var addUser=function addUser(name){var user={name:name};setUsers(function(users){return[].concat(Object(toConsumableArray[\"a\" /* default */])(users),[user]);});};return{messages:messages,user:user,users:users,typingUsers:typingUsers,sendMessage:sendMessage,startTypingMessage:startTypingMessage,stopTypingMessage:stopTypingMessage,addUser:addUser};};/* harmony default export */ var src_useChat = (useChat_useChat);\n// CONCATENATED MODULE: ./src/useTyping.js\nvar useTyping_useTyping=function useTyping(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isTyping=_useState2[0],setIsTyping=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isKeyPressed=_useState4[0],setIsKeyPressed=_useState4[1];var _useState5=Object(react[\"useState\"])(5),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),countdown=_useState6[0],setCountdown=_useState6[1];var startTyping=function startTyping(){setIsKeyPressed(true);setCountdown(5);setIsTyping(true);};var stopTyping=function stopTyping(){setIsKeyPressed(false);};var cancelTyping=function cancelTyping(){setCountdown(0);};Object(react[\"useEffect\"])(function(){var interval;if(!isKeyPressed){interval=setInterval(function(){setCountdown(function(c){return c-1;});},1000);}else if(isKeyPressed||countdown===0){clearInterval(interval);}if(countdown===0){setIsTyping(false);}return function(){return clearInterval(interval);};},[isKeyPressed,countdown]);return{isTyping:isTyping,startTyping:startTyping,stopTyping:stopTyping,cancelTyping:cancelTyping};};/* harmony default export */ var src_useTyping = (useTyping_useTyping);\n// EXTERNAL MODULE: ./node_modules/chessboardjsx/dist/chessboard.min.js\nvar chessboard_min = __webpack_require__(67);\nvar chessboard_min_default = /*#__PURE__*/__webpack_require__.n(chessboard_min);\n\n// CONCATENATED MODULE: ./src/components/Board.js\nvar createPlayerObject=function createPlayerObject(user,setPlayer){setPlayer({name:user.user.name,title:user.user.title,rating:String(user.rating)});};var Board_Board=function Board(props){var roomId=props.roomId;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),FEN=_useState2[0],setFEN=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),black=_useState4[0],setBlack=_useState4[1];var _useState5=Object(react[\"useState\"])({}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),white=_useState6[0],setWhite=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),listening=_useState8[0],setListening=_useState8[1];var pgnData={};Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var source;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(listening){_context.next=14;break;}if(!(roomId!==\"featured\")){_context.next=11;break;}if(!(pgnData.id!==roomId)){_context.next=7;break;}_context.next=5;return fetch(\"http://localhost:3030/pgn/?id=\".concat(roomId)).then(function(res){return res.json();});case 5:pgnData=_context.sent;if(pgnData.players.black){createPlayerObject(pgnData.players.white,setWhite);createPlayerObject(pgnData.players.black,setBlack);}case 7:source=new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstvcustom/?id=\").concat(roomId));source.onmessage=function(event){var parsedData=JSON.parse(event.data);setFEN([parsedData.fen]);};_context.next=13;break;case 11:source=new EventSource(\"\".concat(\"http://localhost:3030\",\"/lichesstv\"));source.onmessage=function(event){var parsedData=JSON.parse(event.data);setFEN([parsedData.d.fen]);if(parsedData.d.players){createPlayerObject(parsedData.d.players[0],setWhite);createPlayerObject(parsedData.d.players[1],setBlack);}};case 13:setListening(true);case 14:case\"end\":return _context.stop();}}},_callee);})),[listening,FEN]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"font-medium md:text-sm text-xs text-white max-w-70 text-left break-all\",children:[\"FEN: \",FEN]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"m-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex font-medium md:text-2xl text-lg my-1 text-white\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-scheme-orange\",children:[black.title,\"\\xA0\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[black.name,\"\\xA0\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-gray-500\",children:black.rating})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"m-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(chessboard_min_default.a,{position:FEN[0],transitionDuration:100,showNotation:false,calcWidth:function calcWidth(size){return size.screenWidth<1440?size.screenHeight/100*46:size.screenWidth>1440?size.screenHeight/100*70:screen.width/100*100;}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex font-medium md:text-2xl text-lg my-1 text-white\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text-scheme-orange\",children:[white.title,\"\\xA0\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[white.name,\"\\xA0\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-gray-500\",children:white.rating})]})]})]});};\n// CONCATENATED MODULE: ./src/Room.jsx\nvar Room_Room=function Room(props){var roomId=props.roomId,name=props.name;var _useTyping=src_useTyping(),isTyping=_useTyping.isTyping,startTyping=_useTyping.startTyping,stopTyping=_useTyping.stopTyping,cancelTyping=_useTyping.cancelTyping;var _useWindowDimensions=WindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newMessage=_useState2[0],setNewMessage=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),gameID=_useState4[0],setGameID=_useState4[1];var messageRef=Object(react[\"useRef\"])();var _useChat=src_useChat(roomId,name),messages=_useChat.messages,user=_useChat.user,users=_useChat.users,typingUsers=_useChat.typingUsers,sendMessage=_useChat.sendMessage,startTypingMessage=_useChat.startTypingMessage,stopTypingMessage=_useChat.stopTypingMessage;var handleNewMessageChange=function handleNewMessageChange(event){setNewMessage(event.target.value);};var handleSendMessage=function handleSendMessage(event){event.preventDefault();cancelTyping();if(newMessage!==\"\"){sendMessage(newMessage,false);setNewMessage(\"\");}};var handleKeyUp=function handleKeyUp(event){if(event.key===\"Enter\"){if(newMessage!==\"\"){sendMessage(newMessage,false);setNewMessage(\"\");}}};Object(react[\"useEffect\"])(function(){return messageRef.current.scrollIntoView({behavior:\"smooth\"});});Object(react[\"useEffect\"])(function(){if(isTyping)startTypingMessage();else stopTypingMessage();},[isTyping]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:height,width:width},className:\"ml-auto bg-scheme-dark overflow-hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",className:\"md:left-4 md:top-4 left-2 top-2 absolute md:pr-6 hidden md:flex\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"md:h-10 md:w-10 h-8 w-8 text-scheme-orange\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sm:mt-auto overflow-hidden m-auto mt-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex md:mt-2 text-gray-400\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex mr-auto p-2 pl-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"md:text-xl text-sm pr-1\",children:\"game:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"a\",{href:\"https://lichess.org/\".concat(gameID),className:\"md:text-xl text-sm underline  \",children:[\"lichess.org/\",gameID]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{className:\"md:text-xl text-sm p-2 ml-auto\",children:[\"room: \",roomId]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Board_Board,{roomId:roomId})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-scheme-dark ml-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ol\",{children:messages.map(function(message,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:message.system===true?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-center text-gray-500 text-sm\",children:message.body}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"text-left text-white text-sm flex\",children:[message.name?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"font-bold \".concat(message.user.color,\" mr-1\"),children:[message.name,\":\"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:\"\"}),message.body]})},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"xl:w-30% px-auto w-99 bottom-1 absolute\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 pr-8 text-base placeholder-white-600 text-gray-500 border bg-scheme-light rounded-lg\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter message here\",variant:\"outlined\",value:newMessage,onChange:handleNewMessageChange,onKeyUp:handleKeyUp}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"absolute inset-y-0 h-10 right-0 flex items-center px-4 font-bold text-white bg-scheme-orange rounded-r-lg\",disabled:!newMessage,variant:\"contained\",color:\"primary\",onClick:handleSendMessage,children:\"Send\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:messageRef})]})})]})});};/* harmony default export */ var src_Room = (Room_Room);\n// CONCATENATED MODULE: ./src/JoinChat.jsx\nvar JoinChat_JoinChat=function JoinChat(props){var roomId=props.roomId,onNameUpdate=props.onNameUpdate;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useWindowDimensions=WindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userName=_useState4[0],setUserName=_useState4[1];var messageRef=Object(react[\"useRef\"])();var history=Object(react_router[\"f\" /* useHistory */])();var _useChat=src_useChat(roomId,name),addUser=_useChat.addUser;var handleClick=function handleClick(){if(!roomId.length){history.push({pathname:\"/featured\",state:{name:name}});}else{history.push({pathname:\"/\".concat(roomId),state:{name:name}});}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:height,width:width},className:\"ml-auto bg-scheme-dark overflow-hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pt-20 pb-14 bg-scheme-dark ml-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"h-full ml-1 mt-1 overflow-y-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{className:\"text-xl p-4 text-center text-white\",children:[\"Room: \",roomId]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"m-auto xl:pt-12\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"font-bold text-white text-center text-lg px-4\",children:\"Create a username to join the chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"xl:w-full w-80 overflow-hidden p-4 m-auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full h-10 pl-3 text-base bg-scheme-light placeholder-gray-500 border rounded-lg focus:shadow-outline\",id:\"message\",type:\"text\",label:\"Message\",placeholder:\"enter username\",variant:\"outlined\",value:userName,onChange:function onChange(event){return setUserName(event.target.value);}})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"h-12 m-auto flex items-center px-4 font-bold text-white bg-scheme-orange rounded-lg\",variant:\"contained\",color:\"primary\",onClick:function onClick(){setName(userName);onNameUpdate(userName);addUser(userName);handleClick(userName);},children:\"Join Chat\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:messageRef})]})})})});};/* harmony default export */ var src_JoinChat = (JoinChat_JoinChat);\n// CONCATENATED MODULE: ./src/Chat.jsx\nvar Chat_Chat=function Chat(props){var _props$location$state;var _useWindowDimensions=WindowDimensions(),height=_useWindowDimensions.height,width=_useWindowDimensions.width;var roomId=props.match.params.roomId;var _useState=Object(react[\"useState\"])((_props$location$state=props.location.state)===null||_props$location$state===void 0?void 0:_props$location$state.name),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var updateName=function updateName(name){setName(name);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:height,width:width},className:\"ml-auto bg-gray-900 overflow-hidden fixed\",children:name?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Room,{name:name,roomId:roomId}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_JoinChat,{roomId:roomId,onNameUpdate:updateName})});};/* harmony default export */ var src_Chat = (Chat_Chat);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",component:src_Home}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/:roomId\",component:src_Chat})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 128)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[127,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/d9/code/lichessTV-watch-party/client/src/hooks/WindowDimensions.js","/home/d9/code/lichessTV-watch-party/client/src/Home.jsx","/home/d9/code/lichessTV-watch-party/client/src/useChat.js","/home/d9/code/lichessTV-watch-party/client/src/useTyping.js","/home/d9/code/lichessTV-watch-party/client/src/components/Board.js","/home/d9/code/lichessTV-watch-party/client/src/Room.jsx","/home/d9/code/lichessTV-watch-party/client/src/JoinChat.jsx","/home/d9/code/lichessTV-watch-party/client/src/Chat.jsx","/home/d9/code/lichessTV-watch-party/client/src/App.js","/home/d9/code/lichessTV-watch-party/client/src/reportWebVitals.js","/home/d9/code/lichessTV-watch-party/client/src/index.js","/home/d9/code/lichessTV-watch-party/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/d9/code/lichessTV-watch-party/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/d9/code/lichessTV-watch-party/client/node_modules/postcss-loader/src/index.js??postcss!/home/d9/code/lichessTV-watch-party/client/src/index.css"],"names":["getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","Input","tw","input","InputTextLeft","PrimaryButton","className","children","rest","Home","props","room","setRoomName","name","setName","history","useHistory","handleClick","length","push","pathname","state","roomId","event","target","value","USER_JOIN_CHAT_EVENT","USER_LEAVE_CHAT_EVENT","NEW_CHAT_MESSAGE_EVENT","START_TYPING_MESSAGE_EVENT","STOP_TYPING_MESSAGE_EVENT","useChat","messages","setMessages","users","setUsers","typingUsers","setTypingUsers","user","setUser","socketRef","useRef","selectRandomColor","colors","Math","floor","random","fetchUser","color","fetchUsers","axios","get","process","response","result","data","fetchMessages","current","socketIOClient","query","on","console","log","id","filter","u","message","incomingMessage","ownedByCurrentUser","senderId","typingInfo","disconnect","sendMessage","messageBody","system","emit","body","startTypingMessage","stopTypingMessage","addUser","useTyping","isTyping","setIsTyping","isKeyPressed","setIsKeyPressed","countdown","setCountdown","startTyping","stopTyping","cancelTyping","interval","setInterval","c","clearInterval","createPlayerObject","setPlayer","title","rating","String","Board","FEN","setFEN","black","setBlack","white","setWhite","listening","setListening","pgnData","fetch","then","res","json","players","source","EventSource","onmessage","parsedData","JSON","parse","fen","d","size","screenWidth","screenHeight","screen","Room","newMessage","setNewMessage","gameID","setGameID","messageRef","handleNewMessageChange","handleSendMessage","preventDefault","handleKeyUp","key","scrollIntoView","behavior","map","i","JoinChat","onNameUpdate","userName","setUserName","Chat","match","params","location","updateName","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst getWindowDimensions = () => {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n        width,\n        height,\n    };\n};\n  \nconst useWindowDimensions = () => {\n    const [windowDimensions, setWindowDimensions] = useState(\n        getWindowDimensions()\n    );\n    useEffect(() => {\n        function handleResize() {\n        setWindowDimensions(getWindowDimensions());\n        }\n        window.addEventListener(\"resize\", handleResize);\n        return () => window.removeEventListener(\"resize\", handleResize);\n    }, []);\n\n    return windowDimensions;\n};\n\nexport default useWindowDimensions;","import React, { useRef, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport tw from \"twin.macro\";\nimport useWindowDimensions from \"./hooks/WindowDimensions\";\n\nexport const Input = tw.input`\n  px-4\n  py-2\n  placeholder-gray-500\n  w-auto\n  lg:mx-auto\n  focus:ring-primary-100\n  focus:border-primary-500\n  border-gray-400\n  border-width[1px]\n  border-solid\n  rounded-md\n  shadow-xs\n`;\n\nexport const InputTextLeft = tw(Input)`text-left py-2`;\n\nexport const PrimaryButton = ({ className = \"\", children, ...rest }) => {\n  return (\n    <Button\n      className={`bg-primary-500 hover:bg-primary-300 text-white`}\n      {...rest}\n      data-testid=\"btn\"\n    >\n      {children}\n    </Button>\n  );\n};\n\nconst Home = (props) => {\n  const { height, width } = useWindowDimensions();\n  const [room, setRoomName] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const history = useHistory();\n  const handleClick = () => {\n    if (!room.length) {\n      history.push({\n        pathname: `/featured`,\n        state: { name },\n      });\n    } else {\n      history.push({\n        pathname: `/${room}`,\n        state: { name, roomId: room },\n      });\n    }\n  };\n\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"bg-scheme-dark overflow-hidden fixed h-full max-h-full\"\n    >\n      <div className=\"text-scheme-orange text-3xl text-center p-2 pb-6\">\n        lichessTV watch party\n      </div>\n      <form>\n        <div className=\"md:w-3/5 md:mt-20 max-w-xl overflow-hidden p-4 mt-6 m-auto\">\n          <input\n            className=\"w-full h-10 pl-3 mb-4 text-base bg-scheme-light placeholder-gray-500 text-gray-500 border rounded-lg focus:shadow-outline\"\n            id=\"message\"\n            type=\"text\"\n            label=\"Message\"\n            placeholder=\"create username\"\n            variant=\"outlined\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n          <div className=\"m-auto text-center text-white mb-6\">\n            <button\n              onClick={() => handleClick(\"\")}\n              className=\"border-scheme-orange border-1 px-20 py-4 mt-4 rounded-lg\"\n            >\n              join featured room\n            </button>\n          </div>\n          <div className=\"text-scheme-orange text-center p-2 pb-8\">\n            or enter a lichess.org game ID to create a room for a specific game\n            in play\n          </div>\n          <input\n            className=\"w-full h-10 pl-3 mb-4 text-base bg-scheme-light placeholder-gray-500 text-gray-500 border rounded-lg focus:shadow-outline\"\n            id=\"message\"\n            type=\"text\"\n            label=\"Message\"\n            placeholder=\"enter lichess game id\"\n            variant=\"outlined\"\n            value={room}\n            onChange={(event) => setRoomName(event.target.value)}\n          />\n          <div className=\"m-auto text-center text-white\">\n            <button\n              onClick={() => handleClick(name)}\n              className=\"border-scheme-orange border-1 px-20 py-4 mt-6 rounded-lg\"\n            >\n              create custom room\n            </button>\n          </div>\n        </div>\n      </form>\n      <footer className=\"text-center fixed w-full bottom-0 text-scheme-orange p-4 flex\">\n        <a\n          href=\"https://lichess.org/api\"\n          className=\"lg:text-xl text-sm  underline m-auto\"\n        >\n          moves streamed using the lichess.org API\n        </a>\n        <a\n          href=\"https://github.com/trevor-ofarrell/lichessTV-watch-party\"\n          className=\"lg:text-xl text-sm underline m-auto\"\n        >\n          check out the source code on GitHub\n        </a>\n      </footer>\n    </div>\n  );\n};\n\nexport default Home;\n","import { useEffect, useRef, useState } from \"react\";\nimport socketIOClient from \"socket.io-client\";\nimport axios from \"axios\";\n\nconst USER_JOIN_CHAT_EVENT = \"USER_JOIN_CHAT_EVENT\";\nconst USER_LEAVE_CHAT_EVENT = \"USER_LEAVE_CHAT_EVENT\";\nconst NEW_CHAT_MESSAGE_EVENT = \"NEW_CHAT_MESSAGE_EVENT\";\nconst START_TYPING_MESSAGE_EVENT = \"START_TYPING_MESSAGE_EVENT\";\nconst STOP_TYPING_MESSAGE_EVENT = \"STOP_TYPING_MESSAGE_EVENT\";\n\nconst useChat = (roomId, name) => {\n  const [messages, setMessages] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [typingUsers, setTypingUsers] = useState([]);\n  const [user, setUser] = useState();\n  const socketRef = useRef();\n\n  const selectRandomColor = () => {\n    const colors = [\n      \"text-green-500\",\n      \"text-purple-500\",\n      \"text-pink-500\",\n      \"text-red-500\",\n      \"text-red-700\",\n      \"text-blue-500\",\n      \"text-blue-300\",\n      \"text-green-400\",\n      \"text-pink-700\",\n      \"text-primary-500\",\n      \"text-orange-500\",\n    ];\n    return colors[Math.floor(Math.random() * colors.length)];\n  };\n\n  useEffect(() => {\n    const fetchUser = () => {\n      setUser({ name, color: selectRandomColor() });\n    };\n    fetchUser();\n  }, []);\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_ENDPOINT}/rooms/${roomId}/users`\n      );\n      const result = response.data.users;\n      setUsers(result);\n    };\n\n    fetchUsers();\n  }, [roomId]);\n\n  useEffect(() => {\n    const fetchMessages = async () => {\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_ENDPOINT}/rooms/${roomId}/messages`\n      );\n      const result = response.data.messages;\n      setMessages(result);\n    };\n\n    fetchMessages();\n  }, [roomId]);\n\n  useEffect(() => {\n    if (!user) {\n      return;\n    }\n    socketRef.current = socketIOClient(process.env.REACT_APP_API_ENDPOINT, {\n      query: { roomId, name: user.name },\n    });\n\n    socketRef.current.on(\"connect\", () => {\n      console.log(socketRef.current.id);\n    });\n\n    socketRef.current.on(USER_JOIN_CHAT_EVENT, (user) => {\n      if (user.id === `${socketRef.current.id}${user.name}`) return;\n      setUsers((users) => [...users, user]);\n    });\n\n    socketRef.current.on(USER_LEAVE_CHAT_EVENT, (user) => {\n      setUsers((users) => users.filter((u) => u.id !== user.id));\n    });\n\n    socketRef.current.on(NEW_CHAT_MESSAGE_EVENT, (message) => {\n      const incomingMessage = {\n        ...message,\n        ownedByCurrentUser:\n          message.senderId === `${socketRef.current.id}${user.name}`,\n      };\n      setMessages((messages) => [...messages, incomingMessage]);\n    });\n\n    socketRef.current.on(START_TYPING_MESSAGE_EVENT, (typingInfo) => {\n      if (typingInfo.senderId !== `${socketRef.current.id}${user.name}`) {\n        const user = typingInfo.user;\n        setTypingUsers((users) => [...users, user]);\n      }\n    });\n\n    socketRef.current.on(STOP_TYPING_MESSAGE_EVENT, (typingInfo) => {\n      if (typingInfo.senderId !== `${socketRef.current.id}${user.name}`) {\n        const user = typingInfo.user;\n        setTypingUsers((users) => users.filter((u) => u.name !== user.name));\n      }\n    });\n\n    return () => {\n      socketRef.current.disconnect();\n    };\n  }, [roomId, user]);\n\n  const sendMessage = (messageBody, system) => {\n    if (!socketRef.current) return;\n    if (system === true) {\n      socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT, {\n        body: messageBody,\n        senderId: socketRef.current.id,\n        name: user?.name,\n        system: system,\n      });\n    } else {\n      socketRef.current.emit(NEW_CHAT_MESSAGE_EVENT, {\n        body: messageBody,\n        senderId: `${socketRef.current.id}${user.name}`,\n        user: user,\n        name: user?.name,\n        color: user?.color,\n        system: system,\n      });\n    }\n  };\n\n  const startTypingMessage = () => {\n    if (!socketRef.current) return;\n    socketRef.current.emit(START_TYPING_MESSAGE_EVENT, {\n      senderId: socketRef.current.id,\n      user,\n    });\n  };\n\n  const stopTypingMessage = () => {\n    if (!socketRef.current) return;\n    socketRef.current.emit(STOP_TYPING_MESSAGE_EVENT, {\n      senderId: socketRef.current.id,\n      user,\n    });\n  };\n\n  const addUser = (name) => {\n    const user = { name };\n    setUsers((users) => [...users, user]);\n  };\n\n  return {\n    messages,\n    user,\n    users,\n    typingUsers,\n    sendMessage,\n    startTypingMessage,\n    stopTypingMessage,\n    addUser,\n  };\n};\n\nexport default useChat;\n","import { useEffect, useState } from \"react\";\n\nconst useTyping = () => {\n  const [isTyping, setIsTyping] = useState(false);\n  const [isKeyPressed, setIsKeyPressed] = useState(false);\n  const [countdown, setCountdown] = useState(5);\n\n  const startTyping = () => {\n    setIsKeyPressed(true);\n    setCountdown(5);\n    setIsTyping(true);\n  };\n\n  const stopTyping = () => {\n    setIsKeyPressed(false);\n  };\n\n  const cancelTyping = () => {\n    setCountdown(0);\n  };\n\n  useEffect(() => {\n    let interval;\n    if (!isKeyPressed) {\n      interval = setInterval(() => {\n        setCountdown((c) => c - 1);\n      }, 1000);\n    } else if (isKeyPressed || countdown === 0) {\n      clearInterval(interval);\n    }\n\n    if (countdown === 0) {\n      setIsTyping(false);\n    }\n\n    return () => clearInterval(interval);\n  }, [isKeyPressed, countdown]);\n\n  return { isTyping, startTyping, stopTyping, cancelTyping };\n};\n\nexport default useTyping;\n","import React, { useState, useEffect } from \"react\";\nimport Chessboard from \"chessboardjsx\";\n\nconst createPlayerObject = (user, setPlayer) => {\n  setPlayer({\n    name: user.user.name,\n    title: user.user.title,\n    rating: String(user.rating),\n  });\n};\n\nexport const Board = (props) => {\n  const { roomId } = props;\n  const [FEN, setFEN] = useState([]);\n  const [black, setBlack] = useState({});\n  const [white, setWhite] = useState({});\n  const [listening, setListening] = useState(false);\n\n  let pgnData = {};\n  useEffect(async () => {\n    if (!listening) {\n      let source;\n      if (roomId !== \"featured\") {\n        if (pgnData.id !== roomId) {\n          pgnData = await fetch(\n            `http://localhost:3030/pgn/?id=${roomId}`\n          ).then((res) => res.json());\n          if (pgnData.players.black) {\n            createPlayerObject(pgnData.players.white, setWhite);\n            createPlayerObject(pgnData.players.black, setBlack);\n          }\n        }\n        source = new EventSource(\n          `${process.env.REACT_APP_API_ENDPOINT}/lichesstvcustom/?id=${roomId}`\n        );\n        source.onmessage = (event) => {\n          const parsedData = JSON.parse(event.data);\n          setFEN([parsedData.fen]);\n        };\n      } else {\n        source = new EventSource(\n          `${process.env.REACT_APP_API_ENDPOINT}/lichesstv`\n        );\n        source.onmessage = (event) => {\n          const parsedData = JSON.parse(event.data);\n          setFEN([parsedData.d.fen]);\n          if (parsedData.d.players) {\n            createPlayerObject(parsedData.d.players[0], setWhite);\n            createPlayerObject(parsedData.d.players[1], setBlack);\n          }\n        };\n      }\n      setListening(true);\n    }\n  }, [listening, FEN]);\n\n  return (\n    <div className=\"sm:mt-auto overflow-hidden m-auto\">\n      <div className=\"font-medium md:text-sm text-xs text-white max-w-70 text-left break-all\">\n        FEN: {FEN}\n      </div>\n      <div className=\"m-auto\">\n        <div className=\"flex font-medium md:text-2xl text-lg my-1 text-white\">\n          <div className=\"text-scheme-orange\">{black.title}&nbsp;</div>\n          <div>{black.name}&nbsp;</div>\n          <div className=\"text-gray-500\">{black.rating}</div>\n        </div>\n        <div className=\"m-auto\">\n          <Chessboard\n            position={FEN[0]}\n            transitionDuration={100}\n            showNotation={false}\n            calcWidth={(size) =>\n              size.screenWidth < 1440\n                ? (size.screenHeight / 100) * 46\n                : size.screenWidth > 1440\n                ? (size.screenHeight / 100) * 70\n                : (screen.width / 100) * 100\n            }\n          />\n        </div>\n        <div className=\"flex font-medium md:text-2xl text-lg my-1 text-white\">\n          <div className=\"text-scheme-orange\">{white.title}&nbsp;</div>\n          <div>{white.name}&nbsp;</div>\n          <div className=\"text-gray-500\">{white.rating}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useRef, useState, useEffect } from \"react\";\nimport useChat from \"./useChat\";\nimport useTyping from \"./useTyping\";\nimport useWindowDimensions from \"./hooks/WindowDimensions\";\nimport { Board } from \"./components/Board\";\n\nconst Room = (props) => {\n\n  const { roomId, name } = props;\n  const { isTyping, startTyping, stopTyping, cancelTyping } = useTyping();\n  const { height, width } = useWindowDimensions();\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [gameID, setGameID] = useState(\"\");\n  const messageRef = useRef();\n  const {\n    messages,\n    user,\n    users,\n    typingUsers,\n    sendMessage,\n    startTypingMessage,\n    stopTypingMessage,\n  } = useChat(roomId, name);\n\n  const handleNewMessageChange = (event) => {\n    setNewMessage(event.target.value);\n  };\n\n  const handleSendMessage = (event) => {\n    event.preventDefault();\n    cancelTyping();\n    if (newMessage !== \"\") {\n      sendMessage(newMessage, false);\n      setNewMessage(\"\");\n    }\n  };\n\n  const handleKeyUp = (event) => {\n    if (event.key === \"Enter\") {\n      if (newMessage !== \"\") {\n        sendMessage(newMessage, false);\n        setNewMessage(\"\");\n      }\n    }\n  };\n\n  useEffect(() => messageRef.current.scrollIntoView({ behavior: \"smooth\" }));\n\n  useEffect(() => {\n    if (isTyping) startTypingMessage();\n    else stopTypingMessage();\n  }, [isTyping]);\n\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"ml-auto bg-scheme-dark overflow-hidden\"\n    >\n      <div className=\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\">\n        <a\n          href=\"/\"\n          className=\"md:left-4 md:top-4 left-2 top-2 absolute md:pr-6 hidden md:flex\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"md:h-10 md:w-10 h-8 w-8 text-scheme-orange\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n            />\n          </svg>\n        </a>\n        <div className=\"sm:mt-auto overflow-hidden m-auto mt-0\">\n          <div className=\"flex md:mt-2 text-gray-400\">\n            <div className=\"flex mr-auto p-2 pl-0\">\n              <h1 className=\"md:text-xl text-sm pr-1\">game:</h1>\n              <a\n                href={`https://lichess.org/${gameID}`}\n                className=\"md:text-xl text-sm underline  \"\n              >\n                lichess.org/{gameID}\n              </a>\n            </div>\n            <h1 className=\"md:text-xl text-sm p-2 ml-auto\">room: {roomId}</h1>\n          </div>\n          <Board roomId={roomId} />\n        </div>\n        <div className=\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pb-14 bg-scheme-dark ml-auto\">\n          <div className=\"h-full ml-1 mt-1 overflow-y-auto\">\n            <>\n              <ol>\n                {messages.map((message, i) => (\n                  <li key={i}>\n                    {message.system === true ? (\n                      <div className=\"text-center text-gray-500 text-sm\">\n                        {message.body}\n                      </div>\n                    ) : (\n                      <span className=\"text-left text-white text-sm flex\">\n                        {message.name ? (\n                          <div\n                            className={`font-bold ${message.user.color} mr-1`}\n                          >\n                            {message.name}:\n                          </div>\n                        ) : (\n                          <>{\"\"}</>\n                        )}\n                        {message.body}\n                      </span>\n                    )}\n                  </li>\n                ))}\n              </ol>\n              <div className=\"xl:w-30% px-auto w-99 bottom-1 absolute\">\n                <input\n                  className=\"w-full h-10 pl-3 pr-8 text-base placeholder-white-600 text-gray-500 border bg-scheme-light rounded-lg\"\n                  id=\"message\"\n                  type=\"text\"\n                  label=\"Message\"\n                  placeholder=\"enter message here\"\n                  variant=\"outlined\"\n                  value={newMessage}\n                  onChange={handleNewMessageChange}\n                  onKeyUp={handleKeyUp}\n                />\n                <button\n                  className=\"absolute inset-y-0 h-10 right-0 flex items-center px-4 font-bold text-white bg-scheme-orange rounded-r-lg\"\n                  disabled={!newMessage}\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleSendMessage}\n                >\n                  Send\n                </button>\n              </div>\n            </>\n            <div ref={messageRef}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Room;\n","import React, { useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useChat from \"./useChat\";\nimport useWindowDimensions from \"./hooks/WindowDimensions\";\n\nconst JoinChat = (props) => {\n  const { roomId, onNameUpdate } = props;\n  const [name, setName] = useState(\"\");\n  const { height, width } = useWindowDimensions();\n  const [userName, setUserName] = useState(\"\");\n  const messageRef = useRef();\n  const history = useHistory();\n  const { addUser } = useChat(roomId, name);\n\n  const handleClick = () => {\n    if (!roomId.length) {\n      history.push({\n        pathname: `/featured`,\n        state: { name },\n      });\n    } else {\n      history.push({\n        pathname: `/${roomId}`,\n        state: { name },\n      });\n    }\n  };\n\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"ml-auto bg-scheme-dark overflow-hidden\"\n    >\n      <div className=\"h-full max-h-full flex flex-col xl:items-stretch xl:flex-row overflow-hidden\">\n        <div className=\"rounded-lg h-full xl:w-2/6 xl:max-h-full max-h-4/12 w-full max-w-full xl:max-w-2/6 pt-20 pb-14 bg-scheme-dark ml-auto\">\n          <div className=\"h-full ml-1 mt-1 overflow-y-auto\">\n            <h1 className=\"text-xl p-4 text-center text-white\">\n              Room: {roomId}\n            </h1>\n            <div className=\"m-auto xl:pt-12\">\n              <div className=\"font-bold text-white text-center text-lg px-4\">\n                Create a username to join the chat\n              </div>\n              <div>\n                <div className=\"xl:w-full w-80 overflow-hidden p-4 m-auto\">\n                  <input\n                    className=\"w-full h-10 pl-3 text-base bg-scheme-light placeholder-gray-500 border rounded-lg focus:shadow-outline\"\n                    id=\"message\"\n                    type=\"text\"\n                    label=\"Message\"\n                    placeholder=\"enter username\"\n                    variant=\"outlined\"\n                    value={userName}\n                    onChange={(event) => setUserName(event.target.value)}\n                  />\n                </div>\n              </div>\n              <button\n                className=\"h-12 m-auto flex items-center px-4 font-bold text-white bg-scheme-orange rounded-lg\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => {\n                  setName(userName);\n                  onNameUpdate(userName);\n                  addUser(userName);\n                  handleClick(userName)\n                }}\n              >\n                Join Chat\n              </button>\n            </div>\n            <div ref={messageRef}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default JoinChat;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport Room from \"./Room\";\nimport JoinChat from \"./JoinChat\";\nimport useWindowDimensions from \"./hooks/WindowDimensions\";\n\nconst Chat = (props) => {\n  const { height, width } = useWindowDimensions();\n  const { roomId } = props.match.params;\n  const [name, setName] = useState(props.location.state?.name);\n\n  const updateName = (name) => {\n    setName(name);\n  };\n  return (\n    <div\n      style={{ height: height, width: width }}\n      className=\"ml-auto bg-gray-900 overflow-hidden fixed\"\n    >\n      {name ? (\n        <Room name={name} roomId={roomId} />\n      ) : (\n        <JoinChat roomId={roomId} onNameUpdate={updateName} />\n      )}\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport \"./index.css\";\nimport Chat from \"./Chat\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/:roomId\" component={Chat} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin"]}}